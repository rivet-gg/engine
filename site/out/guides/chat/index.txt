1:"$Sreact.fragment"
2:I[65327,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","3285","static/chunks/3285-d8e61078321bd50f.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","3459","static/chunks/3459-aa0b1d8277b7bbbd.js","7177","static/chunks/app/layout-e3cfc449b871f8f6.js"],"GoogleAnalytics"]
3:I[559,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","3285","static/chunks/3285-d8e61078321bd50f.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","3459","static/chunks/3459-aa0b1d8277b7bbbd.js","7177","static/chunks/app/layout-e3cfc449b871f8f6.js"],""]
4:I[32761,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"TooltipProvider"]
5:I[79838,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","3285","static/chunks/3285-d8e61078321bd50f.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","3459","static/chunks/3459-aa0b1d8277b7bbbd.js","7177","static/chunks/app/layout-e3cfc449b871f8f6.js"],"Providers"]
6:I[49287,[],""]
7:I[34235,[],""]
8:I[91971,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"Toaster"]
9:I[82345,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","3591","static/chunks/3591-193e430a542376f5.js","4395","static/chunks/4395-09a8f40ef66f9d5c.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","7261","static/chunks/7261-eddb3e7984c54a8d.js","6213","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/layout-98b1c4e9d514d53c.js"],"Header"]
a:I[59534,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],""]
b:"$Sreact.suspense"
c:I[82813,["7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","3459","static/chunks/3459-aa0b1d8277b7bbbd.js","5519","static/chunks/app/(v2)/layout-24f9ee0b53a6742c.js"],"EmbedDetector"]
d:I[53696,["7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","3459","static/chunks/3459-aa0b1d8277b7bbbd.js","5519","static/chunks/app/(v2)/layout-24f9ee0b53a6742c.js"],"Footer"]
e:I[82778,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","3591","static/chunks/3591-193e430a542376f5.js","4395","static/chunks/4395-09a8f40ef66f9d5c.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","7261","static/chunks/7261-eddb3e7984c54a8d.js","6213","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/layout-98b1c4e9d514d53c.js"],"NavigationStateProvider"]
10:I[93621,[],"MetadataBoundary"]
12:I[93621,[],"OutletBoundary"]
15:I[16867,[],"AsyncMetadataOutlet"]
17:I[93621,[],"ViewportBoundary"]
19:I[27890,[],""]
:HL["/_next/static/css/565f4925fe90494c.css","style"]
:HL["/_next/static/css/b2a053553e69c47d.css","style"]
:HL["/_next/static/css/9ded352fd1582faa.css","style"]
0:{"P":null,"b":"xyrr8R3WCFgaolPiXJ-Nn","p":"","c":["","guides","chat",""],"i":false,"f":[[["",{"children":["(v2)",{"children":[["section","guides","d"],{"children":[["page","chat","oc"],{"children":["__PAGE__",{}]}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/565f4925fe90494c.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","className":"dark","children":[["$","head",null,{"children":[["$","$L2",null,{"gaId":"G-GHX1328ZFD"}],["$","$L3",null,{"src":"https://analytics.ahrefs.com/analytics.js","data-key":"wQAsHie9RgJMLNhmUbr/fQ","strategy":"beforeInteractive"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/icons/apple-touch-icon.png?20240925"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/icons/favicon-32x32.png?20240925"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/icons/favicon-16x16.png?20240925"}],["$","link",null,{"rel":"manifest","href":"/icons/site.webmanifest?20240925"}],["$","link",null,{"rel":"mask-icon","href":"/icons/safari-pinned-tab.svg?20240925","color":"#5bbad5"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#0c0a09"}],["$","meta",null,{"name":"theme-color","content":"#0c0a09"}],["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1.0"}]]}],["$","body",null,{"className":"dark","children":[["$","$L4",null,{"children":["$","$L5",null,{"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}],["$","$L8",null,{"theme":"system","className":"toaster group right-8","toastOptions":{"classNames":{"toast":"group toast group-[.toaster]:bg-card group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:border group-[.toaster]:rounded-md","description":"group-[.toast]:text-muted-foreground","actionButton":"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground","cancelButton":"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}}]]}]]}]]}],{"children":["(v2)",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/b2a053553e69c47d.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/9ded352fd1582faa.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],[["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","$L9",null,{"variant":"floating"}],["$","div",null,{"className":"relative flex min-h-[80vh] w-full items-center justify-center text-center","children":["$","div",null,{"className":"transition-opacity","children":[["$","h1",null,{"className":"mb-3 flex items-center justify-center text-3xl text-white","children":[["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"block-question","className":"svg-inline--fa fa-block-question mr-2 size-10","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm73.8 149.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L248 280.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM192 368a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 104a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM376 80a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM48 408a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm328-24a24 24 0 1 1 0 48 24 24 0 1 1 0-48z","style":{}}]}]," ","Not Found"]}],["$","$La",null,{"aria-selected":false,"className":"relative inline-flex items-center justify-center gap-0.5 overflow-hidden font-semibold transition inline-flex items-center justify-center gap-0.5 rounded-sm px-3 py-1 text-sm font-semibold bg-transparent text-cream-100 border-2 border-cream-100 hover:bg-cream-100 hover:text-charcole-950","href":"/","children":[null,false,"Home",false]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}],["$","$b",null,{"children":["$","$Lc",null,{}]}],["$","$Ld",null,{}]]]}],{"children":[["section","guides","d"],["$","$1","c",{"children":[null,["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["page","chat","oc"],["$","$1","c",{"children":[null,["$","$Le",null,{"children":[["$","$L9",null,{"active":"docs","subnav":["$","div",null,{"className":"hidden h-14 items-center empty:hidden md:flex gap-4 pt-2","children":[["$","$La","0",{"href":"/docs","target":"$undefined","aria-current":"$undefined","children":["Documentation"],"className":"group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full","ref":null,"disabled":"$undefined"}],["$","$La","1",{"href":"/docs/cloud","target":"$undefined","aria-current":"$undefined","children":["Cloud"],"className":"group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full","ref":null,"disabled":"$undefined"}]]}],"variant":"full-width","mobileSidebar":null}],["$","div",null,{"className":"w-full","children":["$","div",null,{"className":"md:grid-cols-docs-no-sidebar lg:grid-cols-docs mx-auto flex w-full flex-col justify-center md:grid min-h-content","style":{"--header-height":"6.5rem"},"children":["$","$L6",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lf",["$","$L10",null,{"children":"$L11"}],null,["$","$L12",null,{"children":["$L13","$L14",["$","$L15",null,{"promise":"$@16"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","RqeoZD0oFXDEwU2JAxe0M",{"children":[["$","$L17",null,{"children":"$L18"}],null]}],null]}],false]],"m":"$undefined","G":["$19","$undefined"],"s":false,"S":true}
1a:I[16867,[],"AsyncMetadata"]
11:["$","$b",null,{"fallback":null,"children":["$","$L1a",null,{"promise":"$@1b"}]}]
14:null
1c:I[88995,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"DocsPageDropdown"]
1d:I[75036,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"Heading"]
1e:I[32761,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"WithTooltip"]
1f:I[30860,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"CopyCodeTrigger"]
20:I[63843,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"ScrollArea"]
24:I[28912,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"Accordion"]
2b:I[19897,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"Comments"]
2c:I[9777,["1965","static/chunks/f67032f2-9c72234b0d8f41b4.js","8229","static/chunks/9da6db1e-dbfab9261a7c6a02.js","7134","static/chunks/7134-7a2ccc87dc1f1c96.js","9078","static/chunks/9078-9c4b2ff48765f274.js","6855","static/chunks/6855-c97c866fb9680afe.js","5051","static/chunks/5051-51ff92d736937f41.js","9657","static/chunks/9657-90d7d8e86cd8d7b3.js","1983","static/chunks/1983-7439545cf8f39348.js","7678","static/chunks/7678-80db3db210142fa5.js","1834","static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js"],"DocsTableOfContents"]
21:T7b1,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { Actor</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> type</span><span style="color:#BFBDB6"> Rpc } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> "actor-core"</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// State managed by the actor</span></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> interface</span><span style="color:#59C2FF"> State</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">  messages</span><span style="color:#F29668">:</span><span style="color:#BFBDB6"> { username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6"> }[]</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#FF8F40"> class</span><span style="color:#59C2FF"> ChatRoom</span><span style="color:#FF8F40"> extends</span><span style="color:#39BAE6"> Actor</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">State</span><span style="color:#BFBDB6">> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Methods will be added in the following steps</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre>22:Tbcd,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#FF8F40"> class</span><span style="color:#59C2FF"> ChatRoom</span><span style="color:#FF8F40"> extends</span><span style="color:#39BAE6"> Actor</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">State</span><span style="color:#BFBDB6">> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // ...previous code...</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FFB454">  sendMessage</span><span style="color:#BFBDB6">(</span></span>
<span class="line"><span style="color:#D2A6FF">    _rpc</span><span style="color:#F29668">:</span><span style="color:#59C2FF"> Rpc</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">ChatRoom</span><span style="color:#BFBDB6">></span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#D2A6FF">    username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> </span></span>
<span class="line"><span style="color:#D2A6FF">    message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span></span>
<span class="line"><span style="color:#BFBDB6">  )</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> void</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Save message to persistent storage</span></span>
<span class="line"><span style="color:#39BAE6;font-style:italic">    this</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">_state</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">messages</span><span style="color:#F29668">.</span><span style="color:#FFB454">push</span><span style="color:#BFBDB6">({ username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Broadcast message to all connected clients</span></span>
<span class="line"><span style="color:#39BAE6;font-style:italic">    this</span><span style="color:#F29668">.</span><span style="color:#FFB454">_broadcast</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"newMessage"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre>23:T743,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#FF8F40"> class</span><span style="color:#59C2FF"> ChatRoom</span><span style="color:#FF8F40"> extends</span><span style="color:#39BAE6"> Actor</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">State</span><span style="color:#BFBDB6">> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // ...previous code...</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FFB454">  getHistory</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">_rpc</span><span style="color:#F29668">:</span><span style="color:#59C2FF"> Rpc</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">ChatRoom</span><span style="color:#BFBDB6">>)</span><span style="color:#F29668">:</span><span style="color:#BFBDB6"> { username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6"> }[] {</span></span>
<span class="line"><span style="color:#FF8F40">    return</span><span style="color:#39BAE6;font-style:italic"> this</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">_state</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">messages</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre>25:T1769,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { Actor</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> type</span><span style="color:#BFBDB6"> Rpc } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> "actor-core"</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// State managed by the actor</span></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> interface</span><span style="color:#59C2FF"> State</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">  messages</span><span style="color:#F29668">:</span><span style="color:#BFBDB6"> { username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6"> }[]</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#FF8F40"> class</span><span style="color:#59C2FF"> ChatRoom</span><span style="color:#FF8F40"> extends</span><span style="color:#39BAE6"> Actor</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">State</span><span style="color:#BFBDB6">> {</span></span>
<span class="line"><span style="color:#FFB454">  _onInitialize</span><span style="color:#BFBDB6">()</span><span style="color:#F29668">:</span><span style="color:#59C2FF"> State</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">    return</span><span style="color:#BFBDB6"> { messages</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> [] }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FFB454">  sendMessage</span><span style="color:#BFBDB6">(</span></span>
<span class="line"><span style="color:#D2A6FF">    _rpc</span><span style="color:#F29668">:</span><span style="color:#59C2FF"> Rpc</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">ChatRoom</span><span style="color:#BFBDB6">></span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#D2A6FF">    username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> </span></span>
<span class="line"><span style="color:#D2A6FF">    message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span></span>
<span class="line"><span style="color:#BFBDB6">  )</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> void</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Save message to persistent storage</span></span>
<span class="line"><span style="color:#39BAE6;font-style:italic">    this</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">_state</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">messages</span><span style="color:#F29668">.</span><span style="color:#FFB454">push</span><span style="color:#BFBDB6">({ username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Broadcast message to all connected clients</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Event name is 'newMessage', clients can listen for this event</span></span>
<span class="line"><span style="color:#39BAE6;font-style:italic">    this</span><span style="color:#F29668">.</span><span style="color:#FFB454">_broadcast</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"newMessage"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FFB454">  getHistory</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">_rpc</span><span style="color:#F29668">:</span><span style="color:#59C2FF"> Rpc</span><span style="color:#BFBDB6">&#x3C;</span><span style="color:#59C2FF">ChatRoom</span><span style="color:#BFBDB6">>)</span><span style="color:#F29668">:</span><span style="color:#BFBDB6"> { username</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> message</span><span style="color:#F29668">:</span><span style="color:#39BAE6"> string</span><span style="color:#BFBDB6"> }[] {</span></span>
<span class="line"><span style="color:#FF8F40">    return</span><span style="color:#39BAE6;font-style:italic"> this</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">_state</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">messages</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre>26:T1f39,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#39BAE680">&#x3C;!</span><span style="color:#39BAE6">DOCTYPE</span><span style="color:#FFB454"> html</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">html</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">head</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">title</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Rivet Chat Room</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">title</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">style</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#59C2FF">    body</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">font-family</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> sans-serif</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> max-width</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 800</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> margin</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 0</span><span style="color:#F29668;font-style:italic"> auto</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 20</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-list</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">height</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 400</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> overflow-y</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> auto</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> list-style</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> none</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 10</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> border</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1</span><span style="color:#FF8F40">px</span><span style="color:#F29668;font-style:italic"> solid</span><span style="color:#95E6CB"> #ccc</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> margin-bottom</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 10</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-form</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">display</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> flex</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-input</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">flex</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 8</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#59C2FF">    button</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 8</span><span style="color:#FF8F40">px</span><span style="color:#D2A6FF"> 16</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> background</span><span style="color:#BFBDB6B3">:</span><span style="color:#95E6CB"> #0070f3</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> color</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> white</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> border</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> none</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;/</span><span style="color:#39BAE6">style</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">head</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">body</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">h1</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Rivet Chat Room</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">h1</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">ul</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-list"</span><span style="color:#39BAE680">>&#x3C;/</span><span style="color:#39BAE6">ul</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">form</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-form"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">    &#x3C;</span><span style="color:#39BAE6">input</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-input"</span><span style="color:#FFB454"> placeholder</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"Type a message..."</span><span style="color:#FFB454"> autocomplete</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"off"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">    &#x3C;</span><span style="color:#39BAE6">button</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"submit"</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Send</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">button</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;/</span><span style="color:#39BAE6">form</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">body</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">html</span><span style="color:#39BAE680">></span></span>
<span class="line"></span></code></pre>27:T1446,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">script</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"module"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#FF8F40">  import</span><span style="color:#BFBDB6"> { Client } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> 'https://unpkg.com/actor-core/dist/browser/index.js'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Replace with your Actor Manager URL from deployment</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> Client</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'https://your-actor-manager-url.rivet.run'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">  let</span><span style="color:#BFBDB6"> username </span><span style="color:#F29668">=</span><span style="color:#FFB454"> prompt</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'Enter your username:'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">username) username </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> 'Anonymous'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  let</span><span style="color:#BFBDB6"> channel </span><span style="color:#F29668">=</span><span style="color:#FFB454"> prompt</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'Enter channel name:'</span><span style="color:#BFBDB6B3">,</span><span style="color:#AAD94C"> 'general'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">channel) channel </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> 'general'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">  async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> init</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Connect to chat room with channel tag</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> chatRoom </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#FFB454">get</span><span style="color:#BFBDB6">({ </span></span>
<span class="line"><span style="color:#BFBDB6">      name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> 'chat-room'</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      channel</span><span style="color:#BFBDB6B3">,</span><span style="color:#ACB6BF8C;font-style:italic">  // Use channel as a tag to separate different chat rooms</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Store reference for use in event handlers</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // In a production app, you'd use a more encapsulated approach</span></span>
<span class="line"><span style="color:#BFBDB6">    window</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">chatRoom </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB454">  init</span><span style="color:#BFBDB6">()</span><span style="color:#F29668">.</span><span style="color:#FFB454">catch</span><span style="color:#BFBDB6">(console</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">script</span><span style="color:#39BAE680">></span></span>
<span class="line"></span></code></pre>28:T1f6d,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">script</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"module"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // ...previous code...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">  async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> init</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // ...previous code...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">    try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Load chat history</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> messages </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">getHistory</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      messages</span><span style="color:#F29668">.</span><span style="color:#FFB454">forEach</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">msg</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FFB454">        addMessage</span><span style="color:#BFBDB6">(msg</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> msg</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Listen for new messages</span></span>
<span class="line"><span style="color:#BFBDB6">      chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">on</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'newMessage'</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> message</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FFB454">        addMessage</span><span style="color:#BFBDB6">(username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (error) {</span></span>
<span class="line"><span style="color:#BFBDB6">      console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Failed to load chat history:"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">      alert</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Error loading chat history. Please try refreshing the page."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">  function</span><span style="color:#FFB454"> addMessage</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> message</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> messageList </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-list'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> item </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createElement</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'li'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Create elements instead of using innerHTML to prevent XSS</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> usernameSpan </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createElement</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'strong'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    usernameSpan</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">textContent </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> username</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#BFBDB6">    item</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(usernameSpan)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    item</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createTextNode</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">': '</span><span style="color:#F29668"> +</span><span style="color:#BFBDB6"> message))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#BFBDB6">    messageList</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(item)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    messageList</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">scrollTop </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> messageList</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">scrollHeight</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">script</span><span style="color:#39BAE680">></span></span>
<span class="line"></span></code></pre>29:T19ab,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">script</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"module"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // ...previous code...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">  async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> init</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // ...previous code...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Update page title with channel name</span></span>
<span class="line"><span style="color:#BFBDB6">    document</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">title </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `Chat: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">channel</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Add channel name to the UI</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> heading </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">querySelector</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'h1'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    heading</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">textContent </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `Rivet Chat Room - </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">channel</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Send message on form submit</span></span>
<span class="line"><span style="color:#BFBDB6">    document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-form'</span><span style="color:#BFBDB6">)</span><span style="color:#F29668">.</span><span style="color:#FFB454">addEventListener</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'submit'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">e</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      e</span><span style="color:#F29668">.</span><span style="color:#FFB454">preventDefault</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> input </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-input'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> message </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> input</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">value</span><span style="color:#F29668">.</span><span style="color:#FFB454">trim</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#FF8F40">      if</span><span style="color:#BFBDB6"> (message) {</span></span>
<span class="line"><span style="color:#FF8F40">        try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">          await</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">sendMessage</span><span style="color:#BFBDB6">(username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">          input</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">value </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> ''</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (error) {</span></span>
<span class="line"><span style="color:#BFBDB6">          console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Failed to send message:"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">          alert</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Error sending message. Please try again."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">script</span><span style="color:#39BAE680">></span></span>
<span class="line"></span></code></pre>2a:T6495,<pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#39BAE680">&#x3C;!</span><span style="color:#39BAE6">DOCTYPE</span><span style="color:#FFB454"> html</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">html</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">head</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">title</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Rivet Chat Room</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">title</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">style</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#59C2FF">    body</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">font-family</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> sans-serif</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> max-width</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 800</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> margin</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 0</span><span style="color:#F29668;font-style:italic"> auto</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 20</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-list</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">height</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 400</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> overflow-y</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> auto</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> list-style</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> none</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 10</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> border</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1</span><span style="color:#FF8F40">px</span><span style="color:#F29668;font-style:italic"> solid</span><span style="color:#95E6CB"> #ccc</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> margin-bottom</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 10</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-form</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">display</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> flex</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#FFB454">    #message-input</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">flex</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 8</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#59C2FF">    button</span><span style="color:#BFBDB6"> { </span><span style="color:#39BAE6">padding</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 8</span><span style="color:#FF8F40">px</span><span style="color:#D2A6FF"> 16</span><span style="color:#FF8F40">px</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> background</span><span style="color:#BFBDB6B3">:</span><span style="color:#95E6CB"> #0070f3</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> color</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> white</span><span style="color:#BFBDB6B3">;</span><span style="color:#39BAE6"> border</span><span style="color:#BFBDB6B3">:</span><span style="color:#F29668;font-style:italic"> none</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;/</span><span style="color:#39BAE6">style</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">script</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"module"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#FF8F40">    import</span><span style="color:#BFBDB6"> { Client } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> 'https://unpkg.com/actor-core/dist/browser/index.js'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Replace with your Actor Manager URL from deployment</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> Client</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'https://your-actor-manager-url.rivet.run'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">    let</span><span style="color:#BFBDB6"> username </span><span style="color:#F29668">=</span><span style="color:#FFB454"> prompt</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'Enter your username:'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">    if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">username) username </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> 'Anonymous'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#FF8F40">    let</span><span style="color:#BFBDB6"> channel </span><span style="color:#F29668">=</span><span style="color:#FFB454"> prompt</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'Enter channel name:'</span><span style="color:#BFBDB6B3">,</span><span style="color:#AAD94C"> 'general'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">    if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">channel) channel </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> 'general'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">    async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> init</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Connect to chat room with channel tag</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> chatRoom </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#FFB454">get</span><span style="color:#BFBDB6">({ </span></span>
<span class="line"><span style="color:#BFBDB6">        name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> 'chat-room'</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        channel</span><span style="color:#BFBDB6B3">,</span><span style="color:#ACB6BF8C;font-style:italic">  // Use channel as a tag to separate different chat rooms</span></span>
<span class="line"><span style="color:#BFBDB6">      })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Store reference for use in event handlers</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // In a production app, you'd use a more encapsulated approach</span></span>
<span class="line"><span style="color:#BFBDB6">      window</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">chatRoom </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">      try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Load chat history</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> messages </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">getHistory</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        messages</span><span style="color:#F29668">.</span><span style="color:#FFB454">forEach</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">msg</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FFB454">          addMessage</span><span style="color:#BFBDB6">(msg</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> msg</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Listen for new messages</span></span>
<span class="line"><span style="color:#BFBDB6">        chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">on</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'newMessage'</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> message</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FFB454">          addMessage</span><span style="color:#BFBDB6">(username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (error) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Failed to load chat history:"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">        alert</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Error loading chat history. Please try refreshing the page."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Update page title with channel name</span></span>
<span class="line"><span style="color:#BFBDB6">      document</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">title </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `Chat: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">channel</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Add channel name to the UI</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> heading </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">querySelector</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'h1'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      heading</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">textContent </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `Rivet Chat Room - </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">channel</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Send message on form submit</span></span>
<span class="line"><span style="color:#BFBDB6">      document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-form'</span><span style="color:#BFBDB6">)</span><span style="color:#F29668">.</span><span style="color:#FFB454">addEventListener</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'submit'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">e</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        e</span><span style="color:#F29668">.</span><span style="color:#FFB454">preventDefault</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> input </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-input'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> message </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> input</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">value</span><span style="color:#F29668">.</span><span style="color:#FFB454">trim</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#FF8F40">        if</span><span style="color:#BFBDB6"> (message) {</span></span>
<span class="line"><span style="color:#FF8F40">          try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">            await</span><span style="color:#BFBDB6"> chatRoom</span><span style="color:#F29668">.</span><span style="color:#FFB454">sendMessage</span><span style="color:#BFBDB6">(username</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> message)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">            input</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">value </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> ''</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">          } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (error) {</span></span>
<span class="line"><span style="color:#BFBDB6">            console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Failed to send message:"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">            alert</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Error sending message. Please try again."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">          }</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span></span>
<span class="line"><span style="color:#BFBDB6">      })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">    function</span><span style="color:#FFB454"> addMessage</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">username</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> message</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> messageList </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">getElementById</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'message-list'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> item </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createElement</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'li'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Create elements instead of using innerHTML to prevent XSS</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> usernameSpan </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createElement</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'strong'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      usernameSpan</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">textContent </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> username</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#BFBDB6">      item</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(usernameSpan)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      item</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(document</span><span style="color:#F29668">.</span><span style="color:#FFB454">createTextNode</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">': '</span><span style="color:#F29668"> +</span><span style="color:#BFBDB6"> message))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#BFBDB6">      messageList</span><span style="color:#F29668">.</span><span style="color:#FFB454">appendChild</span><span style="color:#BFBDB6">(item)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      messageList</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">scrollTop </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> messageList</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">scrollHeight</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB454">    init</span><span style="color:#BFBDB6">()</span><span style="color:#F29668">.</span><span style="color:#FFB454">catch</span><span style="color:#BFBDB6">(console</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;/</span><span style="color:#39BAE6">script</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">head</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;</span><span style="color:#39BAE6">body</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">h1</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Rivet Chat Room</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">h1</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">ul</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-list"</span><span style="color:#39BAE680">>&#x3C;/</span><span style="color:#39BAE6">ul</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;</span><span style="color:#39BAE6">form</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-form"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">    &#x3C;</span><span style="color:#39BAE6">input</span><span style="color:#FFB454"> id</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"message-input"</span><span style="color:#FFB454"> placeholder</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"Type a message..."</span><span style="color:#FFB454"> autocomplete</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"off"</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">    &#x3C;</span><span style="color:#39BAE6">button</span><span style="color:#FFB454"> type</span><span style="color:#BFBDB6B3">=</span><span style="color:#AAD94C">"submit"</span><span style="color:#39BAE680">></span><span style="color:#BFBDB6">Send</span><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">button</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">  &#x3C;/</span><span style="color:#39BAE6">form</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">body</span><span style="color:#39BAE680">></span></span>
<span class="line"><span style="color:#39BAE680">&#x3C;/</span><span style="color:#39BAE6">html</span><span style="color:#39BAE680">></span></span>
<span class="line"></span></code></pre>f:[["$","aside",null,{"className":"hidden lg:block border-r","children":null}],["$","div",null,{"className":"flex justify-center w-full","children":["$","div",null,{"className":"flex gap-8 max-w-6xl w-full","children":[["$","main",null,{"className":"w-full py-8 px-8 lg:mx-0 mx-auto max-w-prose lg:max-w-none","children":[["$","div",null,{"className":"relative","children":["$","div",null,{"className":"absolute top-5 right-0","children":["$","$L1c",null,{"title":"Building a Realtime Chat App with Actors","markdownPath":"guides/chat","currentUrl":"/guides/chat"}]}]}],["$","article",null,{"className":"max-w-prose lg:max-w-prose mx-auto prose-invert prose","children":["$undefined",[["$","h1",null,{"children":"Building a Realtime Chat App with Actors"}],"\n",["$","p",null,{"children":"In this guide, we're building a realtime chat application using the Rivet library. The app consists of:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"ChatRoom Actor"}],": A server-side component that:"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Uses tags to create separate chat channels"}],"\n",["$","li",null,{"children":"Stores the message history in persistent state"}],"\n",["$","li",null,{"children":"Provides methods for sending messages and retrieving history"}],"\n",["$","li",null,{"children":"Broadcasts new messages to all connected clients"}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["\n",["$","p",null,{"children":[["$","strong",null,{"children":"Web Client"}],": A browser-based UI that:"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Prompts users for username and channel name"}],"\n",["$","li",null,{"children":"Connects to the appropriate channel via tags"}],"\n",["$","li",null,{"children":"Displays the chat interface"}],"\n",["$","li",null,{"children":"Loads message history on connection"}],"\n",["$","li",null,{"children":"Shows new messages in realtime"}],"\n",["$","li",null,{"children":"Allows users to send messages"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","$L1d",null,{"level":2,"id":"set-up-your-project","children":"Set up your project"}],"\n",["$","p",null,{"children":"Create a new actor project:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"Command Line"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"<pre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#59C2FF\">npx</span><span style=\"color:#AAD94C\"> create-actor@latest</span><span style=\"color:#AAD94C\"> chat-room</span><span style=\"color:#95E6CB\"> -p</span><span style=\"color:#AAD94C\"> rivet</span><span style=\"color:#95E6CB\"> -t</span><span style=\"color:#AAD94C\"> counter</span></span>\n<span class=\"line\"></span></code></pre>"}}]}]}]]}],"\n",["$","p",null,{"children":"This command creates a new Rivet actor project with the necessary configuration files and dependencies. We're using the counter template as a starting point and will modify it for our chat application."}],"\n",["$","$L1d",null,{"level":2,"id":"define-the-chat-room-actor","children":"Define the Chat Room actor"}],"\n",["$","p",null,{"children":["Create a file called ",["$","code",null,{"dangerouslySetInnerHTML":{"__html":"src/chat-room.ts"}}]," and add the base class structure:"]}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"TypeScript"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$21"}}]}]}]]}],"\n",["$","$L1d",null,{"level":3,"id":"step-1-initialize-the-actor-state","children":"Step 1: Initialize the actor state"}],"\n",["$","p",null,{"children":["First, add the ",["$","code",null,{"dangerouslySetInnerHTML":{"__html":"_onInitialize"}}]," method to set up the initial state:"]}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"TypeScript"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"<pre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#FF8F40\">export</span><span style=\"color:#FF8F40\"> default</span><span style=\"color:#FF8F40\"> class</span><span style=\"color:#59C2FF\"> ChatRoom</span><span style=\"color:#FF8F40\"> extends</span><span style=\"color:#39BAE6\"> Actor</span><span style=\"color:#BFBDB6\">&#x3C;</span><span style=\"color:#59C2FF\">State</span><span style=\"color:#BFBDB6\">> {</span></span>\n<span class=\"line\"><span style=\"color:#FFB454\">  _onInitialize</span><span style=\"color:#BFBDB6\">() {</span></span>\n<span class=\"line\"><span style=\"color:#FF8F40\">    return</span><span style=\"color:#BFBDB6\"> { messages</span><span style=\"color:#BFBDB6B3\">:</span><span style=\"color:#BFBDB6\"> [] }</span><span style=\"color:#BFBDB6B3\">;</span></span>\n<span class=\"line\"><span style=\"color:#BFBDB6\">  }</span></span>\n<span class=\"line\"><span style=\"color:#BFBDB6\">}</span></span>\n<span class=\"line\"></span></code></pre>"}}]}]}]]}],"\n",["$","p",null,{"children":"This method runs when the actor is first created, initializing an empty messages array."}],"\n",["$","$L1d",null,{"level":3,"id":"step-2-add-message-sending-functionality","children":"Step 2: Add message sending functionality"}],"\n",["$","p",null,{"children":"Next, add the method to send messages:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"TypeScript"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$22"}}]}]}]]}],"\n",["$","p",null,{"children":"This method:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Takes a username and message as parameters"}],"\n",["$","li",null,{"children":"Adds the message to the actor's state for persistence"}],"\n",["$","li",null,{"children":"Broadcasts the message to all connected clients"}],"\n"]}],"\n",["$","$L1d",null,{"level":3,"id":"step-3-add-history-retrieval","children":"Step 3: Add history retrieval"}],"\n",["$","p",null,{"children":"Finally, add a method to retrieve chat history:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"TypeScript"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$23"}}]}]}]]}],"\n",["$","p",null,{"children":"This method allows clients to fetch all previous messages when they connect."}],"\n",["$","$L24",null,{"title":"Complete Chat Room Actor Code","children":["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"TypeScript"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$25"}}]}]}]]}]}],"\n",["$","$L1d",null,{"level":3,"id":"step-4-deploy-to-rivet","children":"Step 4: Deploy to Rivet"}],"\n",["$","p",null,{"children":"Deploy your actor with:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"Command Line"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"<pre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#F07178\">cd</span><span style=\"color:#AAD94C\"> chat-room</span></span>\n<span class=\"line\"><span style=\"color:#59C2FF\">npm</span><span style=\"color:#AAD94C\"> run</span><span style=\"color:#AAD94C\"> deploy</span></span>\n<span class=\"line\"></span></code></pre>"}}]}]}]]}],"\n",["$","p",null,{"children":"Follow the prompts to:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"Sign in to your Rivet account"}],"\n",["$","li",null,{"children":"Create or select a project"}],"\n",["$","li",null,{"children":"Choose an environment"}],"\n"]}],"\n",["$","p",null,{"children":"After deployment, you'll receive your Actor Manager URL, which clients will use to connect to your chat room."}],"\n",["$","$L1d",null,{"level":2,"id":"build-a-web-client","children":"Build a web client"}],"\n",["$","p",null,{"children":"Create a simple web client to interact with your chat room:"}],"\n",["$","$L1d",null,{"level":3,"id":"step-1-create-the-html-structure","children":"Step 1: Create the HTML structure"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"$undefined"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$26"}}]}]}]]}],"\n",["$","$L1d",null,{"level":3,"id":"step-2-add-the-client-script","children":"Step 2: Add the client script"}],"\n",["$","p",null,{"children":["Add this script tag just before the closing ",["$","code",null,{"dangerouslySetInnerHTML":{"__html":"&lt;/head&gt;"}}]," tag:"]}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"$undefined"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$27"}}]}]}]]}],"\n",["$","$L1d",null,{"level":3,"id":"step-3-load-messages-and-listen-for-updates","children":"Step 3: Load messages and listen for updates"}],"\n",["$","p",null,{"children":"Update your init function and add the addMessage helper function:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"$undefined"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$28"}}]}]}]]}],"\n",["$","$L1d",null,{"level":3,"id":"step-4-handle-sending-messages","children":"Step 4: Handle sending messages"}],"\n",["$","p",null,{"children":"Add the form submit handler to your init function:"}],"\n",["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"$undefined"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$29"}}]}]}]]}],"\n",["$","$L24",null,{"title":"Complete Web Client Code","children":["$","div",null,{"className":"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none","data-code-group":true,"children":[["$","div",null,{"className":"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs","children":[["$","div",null,{"className":"text-muted-foreground flex items-center gap-1","children":["$","div",null,{"ref":"$undefined","className":"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground","children":"$undefined"}]}],["$","$L1e",null,{"trigger":["$","$L1f",null,{"children":["$","button",null,{"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&_svg]:size-3 gap-1.5","ref":"$undefined","disabled":"$undefined","children":[null,["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"copy","className":"svg-inline--fa fa-copy ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 448 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z","style":{}}]}],null]}]}],"content":"Copy code"}]]}],["$","div",null,{"className":"bg-background text-wrap p-2 text-sm","children":["$","$L20",null,{"className":"w-full","children":["$","span",null,{"className":"not-prose code","dangerouslySetInnerHTML":{"__html":"$2a"}}]}]}]]}]}]]]}],["$","div",null,{"className":"border-t mt-8 mb-2"}],["$","a",null,{"href":"https://github.com/rivet-gg/rivet/edit/main/site/src/content/guides/chat.mdx","target":"_blank","rel":"noreferrer","children":[["$","svg",".0",{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"pencil","className":"svg-inline--fa fa-pencil ","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"ref":"$undefined","children":["$","path",null,{"fill":"currentColor","d":"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z","style":{}}]}],"Suggest changes to this page"],"className":"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&_svg]:size-[1em] hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1.5","ref":null,"disabled":"$undefined"}],["$","$L2b",null,{}]]}],["$","aside",null,{"className":"hidden xl:block w-64 min-w-0 flex-shrink-0 pb-4","children":["$","$L2c",null,{"className":"lg:max-h-content","tableOfContents":[{"title":"Set up your project","id":"set-up-your-project","children":[]},{"title":"Define the Chat Room actor","id":"define-the-chat-room-actor","children":[{"title":"Step 1: Initialize the actor state","id":"step-1-initialize-the-actor-state","children":[]},{"title":"Step 2: Add message sending functionality","id":"step-2-add-message-sending-functionality","children":[]},{"title":"Step 3: Add history retrieval","id":"step-3-add-history-retrieval","children":[]},{"title":"Step 4: Deploy to Rivet","id":"step-4-deploy-to-rivet","children":[]}]},{"title":"Build a web client","id":"build-a-web-client","children":[{"title":"Step 1: Create the HTML structure","id":"step-1-create-the-html-structure","children":[]},{"title":"Step 2: Add the client script","id":"step-2-add-the-client-script","children":[]},{"title":"Step 3: Load messages and listen for updates","id":"step-3-load-messages-and-listen-for-updates","children":[]},{"title":"Step 4: Handle sending messages","id":"step-4-handle-sending-messages","children":[]}]}]}]}]]}]}]]
18:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
13:null
1b:{"metadata":[["$","title","0",{"children":"Building a Realtime Chat App with Actors - Rivet"}],["$","meta","1",{"name":"description","content":"In this guide, we're building a realtime chat application using the Rivet library. The app consists of:"}],["$","link","2",{"rel":"canonical","href":"https://www.rivet.gg/guides/chat/"}],["$","meta","3",{"property":"og:title","content":"Building a Realtime Chat App with Actors - Rivet"}],["$","meta","4",{"property":"og:description","content":"In this guide, we're building a realtime chat application using the Rivet library. The app consists of:"}],["$","meta","5",{"property":"og:url","content":"https://www.rivet.gg/"}],["$","meta","6",{"property":"og:site_name","content":"Rivet"}],["$","meta","7",{"property":"og:locale","content":"en_US"}],["$","meta","8",{"property":"og:image","content":"https://www.rivet.gg/promo/og.png"}],["$","meta","9",{"property":"og:image:width","content":"1200"}],["$","meta","10",{"property":"og:image:height","content":"630"}],["$","meta","11",{"property":"og:image:alt","content":"Rivet"}],["$","meta","12",{"property":"og:type","content":"website"}],["$","meta","13",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","14",{"name":"twitter:site","content":"@rivetgg"}],["$","meta","15",{"name":"twitter:title","content":"Building a Realtime Chat App with Actors - Rivet"}],["$","meta","16",{"name":"twitter:description","content":"In this guide, we're building a realtime chat application using the Rivet library. The app consists of:"}],["$","meta","17",{"name":"twitter:image","content":"https://www.rivet.gg/promo/og.png"}],["$","meta","18",{"name":"twitter:image:width","content":"1200"}],["$","meta","19",{"name":"twitter:image:height","content":"630"}],["$","meta","20",{"name":"twitter:image:alt","content":"Rivet"}]],"error":null,"digest":"$undefined"}
16:{"metadata":"$1b:metadata","error":null,"digest":"$undefined"}
