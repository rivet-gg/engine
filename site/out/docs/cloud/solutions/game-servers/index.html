<!DOCTYPE html><html lang="en" class="dark"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/565f4925fe90494c.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b2a053553e69c47d.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/9ded352fd1582faa.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-1a373ad8fd0a15c2.js"/><script src="/_next/static/chunks/c7879cf7-ee7261df99d96810.js" async=""></script><script src="/_next/static/chunks/4870-70facba32d301b1a.js" async=""></script><script src="/_next/static/chunks/main-app-9dd32803f609a1e8.js" async=""></script><script src="/_next/static/chunks/f67032f2-9c72234b0d8f41b4.js" async=""></script><script src="/_next/static/chunks/9da6db1e-dbfab9261a7c6a02.js" async=""></script><script src="/_next/static/chunks/7134-7a2ccc87dc1f1c96.js" async=""></script><script src="/_next/static/chunks/9078-9c4b2ff48765f274.js" async=""></script><script src="/_next/static/chunks/6855-c97c866fb9680afe.js" async=""></script><script src="/_next/static/chunks/3285-d8e61078321bd50f.js" async=""></script><script src="/_next/static/chunks/9657-90d7d8e86cd8d7b3.js" async=""></script><script src="/_next/static/chunks/1983-7439545cf8f39348.js" async=""></script><script src="/_next/static/chunks/7678-80db3db210142fa5.js" async=""></script><script src="/_next/static/chunks/3459-aa0b1d8277b7bbbd.js" async=""></script><script src="/_next/static/chunks/app/layout-e3cfc449b871f8f6.js" async=""></script><script src="/_next/static/chunks/5051-51ff92d736937f41.js" async=""></script><script src="/_next/static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js" async=""></script><script src="/_next/static/chunks/3591-193e430a542376f5.js" async=""></script><script src="/_next/static/chunks/4395-09a8f40ef66f9d5c.js" async=""></script><script src="/_next/static/chunks/7261-eddb3e7984c54a8d.js" async=""></script><script src="/_next/static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/layout-98b1c4e9d514d53c.js" async=""></script><script src="/_next/static/chunks/app/(v2)/layout-24f9ee0b53a6742c.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-GHX1328ZFD" as="script"/><link rel="preload" href="https://analytics.ahrefs.com/analytics.js" as="script"/><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png?20240925"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png?20240925"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png?20240925"/><link rel="manifest" href="/icons/site.webmanifest?20240925"/><link rel="mask-icon" href="/icons/safari-pinned-tab.svg?20240925" color="#5bbad5"/><meta name="msapplication-TileColor" content="#0c0a09"/><meta name="theme-color" content="#0c0a09"/><script>(self.__next_s=self.__next_s||[]).push(["https://analytics.ahrefs.com/analytics.js",{"data-key":"wQAsHie9RgJMLNhmUbr/fQ"}])</script><title>Multiplayer Game Servers - Rivet</title><meta name="description" content="Rivet provides a robust platform for deploying, scaling, and managing game servers globally."/><link rel="canonical" href="https://www.rivet.gg/docs/cloud/solutions/game-servers/"/><meta property="og:title" content="Multiplayer Game Servers - Rivet"/><meta property="og:description" content="Rivet provides a robust platform for deploying, scaling, and managing game servers globally."/><meta property="og:url" content="https://www.rivet.gg/"/><meta property="og:site_name" content="Rivet"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://www.rivet.gg/promo/og.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Rivet"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@rivetgg"/><meta name="twitter:title" content="Multiplayer Game Servers - Rivet"/><meta name="twitter:description" content="Rivet provides a robust platform for deploying, scaling, and managing game servers globally."/><meta name="twitter:image" content="https://www.rivet.gg/promo/og.png"/><meta name="twitter:image:width" content="1200"/><meta name="twitter:image:height" content="630"/><meta name="twitter:image:alt" content="Rivet"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="dark"><header class="bg-background/60 border-b-border sticky top-0 z-10 flex flex-col items-center border-b backdrop-blur pt-2 [&amp;&gt;div:first-child]:px-3 md:[&amp;&gt;div:first-child]:max-w-none md:[&amp;&gt;div:first-child]:px-0 md:px-8 pb-2 md:pb-0 md:pt-4"><div class="w-full px-8 flex min-h-10 flex-col justify-center"><div class="flex w-full items-center gap-4"><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:size-[1em] border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-10 w-10 gap-1.5 shrink-0 md:hidden text-foreground" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R5jerddb»" data-state="closed"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars size-5" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path></svg><span class="sr-only">Toggle navigation menu</span></button><nav class="flex-1 font-medium md:flex md:flex-row md:items-center md:gap-3 md:text-sm lg:gap-4"><span data-state="closed" data-slot="context-menu-trigger" style="-webkit-touch-callout:none"><a href="/"><img alt="Rivet logo" loading="lazy" width="80" height="24" decoding="async" data-nimg="1" class="ml-1 w-20" style="color:transparent" src="/_next/static/media/icon-text-white.f8263556.svg"/></a></span><div class="hidden md:flex"><div class="flex items-center font-v2 subpixel-antialiased"><div class="px-2.5 py-2 opacity-60 hover:opacity-100 transition-all duration-200"><a class="text-muted-foreground data-[active]:text-foreground aria-current-page:text-foreground hover:text-foreground transition-colors text-white" aria-current="page" href="/docs/">Documentation</a></div><div class="px-2.5 py-2 opacity-60 hover:opacity-100 transition-all duration-200"><a class="text-muted-foreground data-[active]:text-foreground aria-current-page:text-foreground hover:text-foreground transition-colors text-white" href="/cloud/">Cloud</a></div><div class="px-2.5 py-2 opacity-60 hover:opacity-100 transition-all duration-200"><a class="text-muted-foreground data-[active]:text-foreground aria-current-page:text-foreground hover:text-foreground transition-colors text-white" href="/changelog/">Changelog</a></div></div></div></nav><div class="gap-6 font-medium md:flex md:flex-row md:items-center md:gap-5 md:text-sm"><div class="flex flex-row items-center"><div class="mr-4"></div><a class="p-2 mr-4 text-muted-foreground data-[active]:text-foreground aria-current-page:text-foreground hover:text-foreground transition-colors text-white/90" href="https://rivet.gg/discord"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" class="svg-inline--fa fa-discord drop-shadow-md" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a><div class="relative inline-flex items-center justify-center whitespace-nowrap rounded-md border border-white/10 px-4 py-2 h-10 text-sm mr-2 hover:border-white/20 text-white/90 hover:text-white transition-colors"><button class="flex items-center gap-2 transition-colors text-white/90 hover:text-white" aria-expanded="false" aria-haspopup="true"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><span class="hidden md:inline">GitHub</span></button></div><a class="font-v2 subpixel-antialiased inline-flex items-center justify-center whitespace-nowrap rounded-md border border-white/10 bg-white/5 px-4 py-2 text-sm text-white shadow-sm hover:border-white/20 transition-colors" href="https://hub.rivet.gg">Sign In</a></div></div></div><div class="hidden h-14 items-center empty:hidden md:flex gap-4 pt-2"><a class="group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full" href="/docs/">Documentation</a><a class="group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full" href="/docs/cloud/">Cloud</a></div></div></header><div class="w-full"><div class="md:grid-cols-docs-no-sidebar lg:grid-cols-docs mx-auto flex w-full flex-col justify-center md:grid min-h-content" style="--header-height:6.5rem"><aside class="hidden lg:block border-r"></aside><div class="flex justify-center w-full"><div class="flex gap-8 max-w-6xl w-full"><main class="w-full py-8 px-8 lg:mx-0 mx-auto max-w-prose lg:max-w-none"><div class="relative"><div class="absolute top-5 right-0"><div class="flex items-center"><button class="group group/button inline-flex items-center justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground rounded-md px-2 text-xs [&amp;_svg]:size-3 gap-1.5 h-8 rounded-r-none border-r-0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy mr-1 h-4 w-4" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg>Copy page</button><button class="group group/button inline-flex items-center justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground rounded-md text-xs [&amp;_svg]:size-3 gap-1.5 h-8 w-8 p-0 rounded-l-none border-l border-l-border/50" type="button" id="radix-«R25hterddb»" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" class="svg-inline--fa fa-chevron-down h-3 w-3" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"></path></svg></button></div></div></div><article class="max-w-prose lg:max-w-prose mx-auto prose-invert prose"><h1>Multiplayer Game Servers</h1>
<p>Rivet provides a robust platform for deploying, scaling, and managing game servers globally.</p>
<h2 id="quickstart" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#quickstart"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#quickstart">Quickstart</a></h2>
<p>In this guide, we&#x27;ll implement a simple game server on Rivet and create a backend API that manages server instances. This tutorial assumes you already have your own API server that will handle game logic and player management.</p>
<p>Before starting, you&#x27;ll need to choose a runtime for your game server. Rivet offers two options:</p>
<ul>
<li><strong><a href="/docs/actors/">Actors</a></strong>: For lightweight, fast-starting game servers using JavaScript/TypeScript</li>
<li><strong><a href="/docs/cloud/containers/">Containers</a></strong>: For maximum flexibility, supports any language, ideal for complex game servers</li>
</ul>
<h3 id="step-1-preparing-your-game-server-code" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-1-preparing-your-game-server-code"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-1-preparing-your-game-server-code">Step 1: Preparing your game server code</a></h3>
<p>We&#x27;ll package your existing game server to run on Rivet. Depending on your chosen runtime, you&#x27;ll need to create different files:</p>
<div dir="ltr" data-orientation="horizontal" class=""><div dir="ltr" class="relative overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div role="tablist" aria-orientation="horizontal" class="inline-flex text-muted-foreground border-b w-full" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R269hterddb»-content-Container Runtime" data-state="active" id="radix-«R269hterddb»-trigger-Container Runtime" class="inline-flex items-center justify-center whitespace-nowrap py-1 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative h-9 rounded-none border-b-2 border-b-transparent bg-transparent px-4 pb-3 pt-2 font-semibold text-muted-foreground shadow-none transition-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Container Runtime</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R269hterddb»-content-JavaScript Runtime" data-state="inactive" id="radix-«R269hterddb»-trigger-JavaScript Runtime" class="inline-flex items-center justify-center whitespace-nowrap py-1 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative h-9 rounded-none border-b-2 border-b-transparent bg-transparent px-4 pb-3 pt-2 font-semibold text-muted-foreground shadow-none transition-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">JavaScript Runtime</button></div></div></div></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R269hterddb»-trigger-Container Runtime" id="radix-«R269hterddb»-content-Container Runtime" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" style="animation-duration:0s"><div class="relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-blue-950/20 border-blue-700/50"><div class="flex-shrink-0 pt-0.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-info" class="svg-inline--fa fa-circle-info w-5 h-5 text-blue-400" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg></div><div class="flex-1 prose-invert prose max-w-full w-full text-blue-100"><p><strong>Durability is disabled by default</strong>: Your existing game server code (<code>server.js</code>) should read environment variables for port configuration. Read more <a href="/docs/networking/#environment-variable-naming">here</a>.</p></div></div><div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">Dockerfile</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">FROM</span><span style="color:#BFBDB6"> node:22-alpine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">WORKDIR</span><span style="color:#BFBDB6"> /app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic"># Copy your game server files</span></span>
<span class="line"><span style="color:#FF8F40">COPY</span><span style="color:#BFBDB6"> package.json ./</span></span>
<span class="line"><span style="color:#FF8F40">RUN</span><span style="color:#BFBDB6"> npm install</span></span>
<span class="line"><span style="color:#FF8F40">COPY</span><span style="color:#BFBDB6"> server.js ./</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic"># Required: Create non-root user for security</span></span>
<span class="line"><span style="color:#FF8F40">RUN</span><span style="color:#BFBDB6"> addgroup -S rivet &#x26;&#x26; \</span></span>
<span class="line"><span style="color:#BFBDB6">    adduser -S -G rivet rivet &#x26;&#x26; \</span></span>
<span class="line"><span style="color:#BFBDB6">    chown -R rivet:rivet /app</span></span>
<span class="line"><span style="color:#FF8F40">USER</span><span style="color:#BFBDB6"> rivet</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic"># Start your game server</span></span>
<span class="line"><span style="color:#FF8F40">CMD</span><span style="color:#BFBDB6"> [</span><span style="color:#AAD94C">"node"</span><span style="color:#BFBDB6">, </span><span style="color:#AAD94C">"server.js"</span><span style="color:#BFBDB6">]</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R269hterddb»-trigger-JavaScript Runtime" hidden="" id="radix-«R269hterddb»-content-JavaScript Runtime" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"></div></div>
<h3 id="step-2-creating-a-rivet-configuration" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-2-creating-a-rivet-configuration"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-2-creating-a-rivet-configuration">Step 2: Creating a Rivet configuration</a></h3>
<p>Create a minimal <code>rivet.json</code> configuration file that tells Rivet how to deploy your game server:</p>
<div class="code-group group my-4 rounded-md border pt-2" data-code-group="true"><div dir="ltr" data-orientation="horizontal" class=""><div class="flex gap-1 border-b pr-2"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!table" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div role="tablist" aria-orientation="horizontal" class="inline-flex text-muted-foreground w-full border-b-0" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R2u9hterddb»-content-Actors" data-state="active" id="radix-«R2u9hterddb»-trigger-Actors" class="inline-flex items-center justify-center whitespace-nowrap py-1 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative h-9 rounded-none border-b-2 border-b-transparent bg-transparent px-4 pb-3 pt-2 font-semibold text-muted-foreground shadow-none transition-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Actors</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R2u9hterddb»-content-Containers" data-state="inactive" id="radix-«R2u9hterddb»-trigger-Containers" class="inline-flex items-center justify-center whitespace-nowrap py-1 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 relative h-9 rounded-none border-b-2 border-b-transparent bg-transparent px-4 pb-3 pt-2 font-semibold text-muted-foreground shadow-none transition-none data-[state=active]:border-b-primary data-[state=active]:text-foreground data-[state=active]:shadow-none" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Containers</button></div></div></div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 text-foreground"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R2u9hterddb»-trigger-Actors" id="radix-«R2u9hterddb»-content-Actors" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2" style="animation-duration:0s"><div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#BFBDB6">{</span></span>
<span class="line"><span style="color:#39BAE6">  "actors"</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#39BAE6">    "game-server"</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#39BAE6">      "script"</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "./src/index.ts"</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R2u9hterddb»-trigger-Containers" hidden="" id="radix-«R2u9hterddb»-content-Containers" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"></div></div></div>
<h3 id="step-3-deploying-your-game-server" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-3-deploying-your-game-server"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-3-deploying-your-game-server">Step 3: Deploying your game server</a></h3>
<p>Install the Rivet CLI <a href="/docs/cloud/install/">here</a>. Then deploy your game server to Rivet using the CLI:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">Command Line</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">rivet</span><span style="color:#AAD94C"> deploy</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<div class="relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50"><div class="flex-shrink-0 pt-0.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-info" class="svg-inline--fa fa-circle-info w-5 h-5 text-gray-400" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg></div><div class="flex-1 prose-invert prose max-w-full w-full text-gray-100"><p><strong>This will not create a server.</strong> This uploads your game server code to Rivet but doesn&#x27;t start any instances yet. Your code is now available to be launched on-demand.</p></div></div>
<h3 id="step-4-optional-starting-game-server-instances-with-a-backend-api" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-4-optional-starting-game-server-instances-with-a-backend-api"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-4-optional-starting-game-server-instances-with-a-backend-api">Step 4 (optional): Starting game server instances with a backend API</a></h3>
<p>In your backend API, add code to start game server instances when needed.</p>
<p>It&#x27;s up to you when you choose to call <code>createGameServer</code>. Read more about different scaling patterns under <a href="#scaling-methods">Scaling Methods</a>.</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">api-server.js</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { RivetClient } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> "@rivet-gg/api"</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Initialize Rivet client with your API token from the dashboard</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> rivet </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">  token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN</span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Function to create a new game server instance</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> createGameServer</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">gameMode</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> mapName</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { actor } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> rivet</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">create</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    body</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Identify this server with tags</span></span>
<span class="line"><span style="color:#BFBDB6">      tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">        name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        mode</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> gameMode</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        map</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> mapName</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Reference your uploaded build</span></span>
<span class="line"><span style="color:#BFBDB6">      buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Network configuration for your server</span></span>
<span class="line"><span style="color:#BFBDB6">      network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // IMPORTANT: Do not specify resources if using JavaScript runtime</span></span>
<span class="line"><span style="color:#BFBDB6">      resources</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        cpu</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        memory</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1024</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">    id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    connectionUrl</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<div class="relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50"><div class="flex-shrink-0 pt-0.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-info" class="svg-inline--fa fa-circle-info w-5 h-5 text-gray-400" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg></div><div class="flex-1 prose-invert prose max-w-full w-full text-gray-100"><p><strong>Only call Rivet API from your backend.</strong> The Rivet API requires a private <em>Service Token</em> and should only be called from your backend. Do not make this service token public.</p></div></div>
<h3 id="step-5-optional-connecting-players-to-your-game-server" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-5-optional-connecting-players-to-your-game-server"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-5-optional-connecting-players-to-your-game-server">Step 5 (optional): Connecting players to your game server</a></h3>
<p>When players need to join a game, your backend API provides the WebSocket connection URL:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">api-server.js</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#BFBDB6">app</span><span style="color:#F29668">.</span><span style="color:#FFB454">post</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'/join-game'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">req</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> res</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { gameMode } </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> req</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">body</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Find servers matching the requested game mode</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { actors } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> rivet</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    tagsJson</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">({ </span></span>
<span class="line"><span style="color:#BFBDB6">      name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      mode</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> gameMode</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Get the first available server</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> server </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> actors[</span><span style="color:#D2A6FF">0</span><span style="color:#BFBDB6">]</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Return WebSocket URL to the client</span></span>
<span class="line"><span style="color:#BFBDB6">  res</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    connectionUrl</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<div class="relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50"><div class="flex-shrink-0 pt-0.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-info" class="svg-inline--fa fa-circle-info w-5 h-5 text-gray-400" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"></path></svg></div><div class="flex-1 prose-invert prose max-w-full w-full text-gray-100"><p>We recommend storing the connection URL returned from <code>actors.create</code> instead of calling <code>actors.list</code> for every API call.</p></div></div>
<h3 id="step-6-optional-destroying-servers-once-finished" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#step-6-optional-destroying-servers-once-finished"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#step-6-optional-destroying-servers-once-finished">Step 6 (optional): Destroying servers once finished</a></h3>
<p>When a game finishes, clean up the server to avoid unnecessary costs:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">api-server.js</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> destroyGameServer</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">serverId</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">  await</span><span style="color:#BFBDB6"> rivet</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">destroy</span><span style="color:#BFBDB6">(serverId</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">    project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Game server </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> destroyed`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h2 id="global-regions" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#global-regions"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#global-regions">Global Regions</a></h2>
<p>Rivet&#x27;s global edge network allows you to deploy game servers in multiple regions around the world, ensuring low latency for players regardless of their location.</p>
<h3 id="available-regions" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#available-regions"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#available-regions">Available Regions</a></h3>
<p>Rivet offers server deployments across multiple geographic regions. See the list of available regions <a href="/docs/edge/">here</a>.</p>
<p>To fetch the available regions dynamically, use:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#ACB6BF8C;font-style:italic">// List available regions programmatically</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> getAvailableRegions</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { regions } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#BFBDB6">  console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Available regions:"</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> region </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> regions) {</span></span>
<span class="line"><span style="color:#BFBDB6">    console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`- </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">region</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">region</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">name</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> regions</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h3 id="region-selection" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#region-selection"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#region-selection">Region Selection</a></h3>
<p>You can also use the recommendation API from the client to get the recommended region based on the player&#x27;s IP:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Get the best region for a player</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> getBestRegionForPlayer</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { region } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions</span><span style="color:#F29668">.</span><span style="color:#FFB454">recommend</span><span style="color:#BFBDB6">({})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#BFBDB6">  console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Recommended region for player: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">region</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> region</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h2 id="scaling-methods" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#scaling-methods"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#scaling-methods">Scaling Methods</a></h2>
<p>Choose the scaling approach that best fits your game&#x27;s architecture and player patterns:</p>
<ul>
<li><strong>Static Server Fleet</strong>: Best for games with predictable player counts and consistent traffic</li>
<li><strong>Dynamic Load-Based</strong>: Ideal for games with variable player counts throughout the day</li>
<li><strong>On-Demand Lobby Creation</strong>: Perfect for session-based games where matches have distinct lifetimes</li>
<li><strong>Custom Game Lobbies</strong>: Suited for games where players create rooms with specific settings</li>
</ul>
<h3 id="static-server-fleet" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#static-server-fleet"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#static-server-fleet">Static Server Fleet</a></h3>
<p>This approach maintains a predetermined number of game servers running in each region. It uses <code>actors.list</code> to check for existing servers and automatically creates or destroys servers to maintain the desired count.</p>
<ul>
<li>Ensures a consistent number of servers are available in each region</li>
<li>Servers are <a href="/docs/durability/">durable</a>, meaning they automatically restart if they crash</li>
<li>Monitor these servers in the Rivet dashboard</li>
</ul>
<p><strong>Example</strong></p>
<p>Use this script to maintain a fixed number of servers across specified regions:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">manage-servers.js</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { writeFileSync } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> 'fs'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Define target server count per region</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> TARGET_SERVERS_BY_REGION </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#AAD94C">  "atl"</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 2</span><span style="color:#BFBDB6B3">,</span><span style="color:#ACB6BF8C;font-style:italic">  // Atlanta: 2 servers</span></span>
<span class="line"><span style="color:#AAD94C">  "fra"</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1</span><span style="color:#BFBDB6B3">,</span><span style="color:#ACB6BF8C;font-style:italic">  // Frankfurt: 1 server</span></span>
<span class="line"><span style="color:#AAD94C">  "syd"</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 2</span><span style="color:#ACB6BF8C;font-style:italic">   // Sydney: 2 servers</span></span>
<span class="line"><span style="color:#BFBDB6">}</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Maintains a fixed number of game servers across regions</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// This function is idempotent - running it multiple times will maintain the desired number of servers</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> manageServers</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> serverMap </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> { regions</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {} }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Process each region</span></span>
<span class="line"><span style="color:#FF8F40">  for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> [region</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> targetCount] </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> Object</span><span style="color:#F29668">.</span><span style="color:#FFB454">entries</span><span style="color:#BFBDB6">(TARGET_SERVERS_BY_REGION)) {</span></span>
<span class="line"><span style="color:#BFBDB6">    serverMap</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions[region] </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {}</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Find existing servers in this region</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> { actors } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">      tagsJson</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">({ </span></span>
<span class="line"><span style="color:#BFBDB6">        name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        region</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> region </span></span>
<span class="line"><span style="color:#BFBDB6">      })</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> existingServers </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">map</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">actor</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> ({</span></span>
<span class="line"><span style="color:#BFBDB6">      id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      serverId</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">server_id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      region</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">region</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      url</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span></span>
<span class="line"><span style="color:#BFBDB6">    }))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Print existing server URLs</span></span>
<span class="line"><span style="color:#BFBDB6">    existingServers</span><span style="color:#F29668">.</span><span style="color:#FFB454">forEach</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">server</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Existing server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> - </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Calculate how many servers to add or remove</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> diff </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> targetCount </span><span style="color:#F29668">-</span><span style="color:#BFBDB6"> existingServers</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Need to </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">diff </span><span style="color:#F29668">></span><span style="color:#D2A6FF"> 0</span><span style="color:#F29668"> ?</span><span style="color:#AAD94C"> 'add'</span><span style="color:#F29668"> :</span><span style="color:#AAD94C"> 'remove'</span><span style="color:#FF8F40">}</span><span style="color:#FF8F40"> ${</span><span style="color:#BFBDB6">Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">abs</span><span style="color:#BFBDB6">(diff)</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> servers`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#FF8F40">    if</span><span style="color:#BFBDB6"> (diff </span><span style="color:#F29668">></span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Need to create more servers</span></span>
<span class="line"><span style="color:#FF8F40">      for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">let</span><span style="color:#BFBDB6"> i </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> i </span><span style="color:#F29668">&#x3C;</span><span style="color:#BFBDB6"> diff</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> i</span><span style="color:#F29668">++</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> serverId </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `server-</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">region</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">-</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">existingServers</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">+</span><span style="color:#BFBDB6"> i</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Creating new server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> { actor } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">create</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">          project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          body</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">            region</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> region</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">              name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">              server_id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> serverId</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">              region</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> region</span></span>
<span class="line"><span style="color:#BFBDB6">            }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">              ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">                game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">              }</span></span>
<span class="line"><span style="color:#BFBDB6">            }</span></span>
<span class="line"><span style="color:#BFBDB6">            }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            lifecycle</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">              durable</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> true</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">              idle_timeout</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 300</span><span style="color:#ACB6BF8C;font-style:italic">  // 5 minutes idle timeout</span></span>
<span class="line"><span style="color:#BFBDB6">            } </span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Created server </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> with URL: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Add this server to our map</span></span>
<span class="line"><span style="color:#BFBDB6">        serverMap</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions[region][serverId] </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          url</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    } </span><span style="color:#FF8F40">else</span><span style="color:#FF8F40"> if</span><span style="color:#BFBDB6"> (diff </span><span style="color:#F29668">&#x3C;</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Need to remove some servers - take the oldest ones first</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> serversToRemove </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> existingServers</span><span style="color:#F29668">.</span><span style="color:#FFB454">slice</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">0</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">abs</span><span style="color:#BFBDB6">(diff))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> serversToKeep </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> existingServers</span><span style="color:#F29668">.</span><span style="color:#FFB454">slice</span><span style="color:#BFBDB6">(Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">abs</span><span style="color:#BFBDB6">(diff))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Add servers we're keeping to the map</span></span>
<span class="line"><span style="color:#FF8F40">      for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> server </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> serversToKeep) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Keeping server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> - </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        serverMap</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions[region][server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId] </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          url</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Destroy the excess servers</span></span>
<span class="line"><span style="color:#FF8F40">      for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> server </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> serversToRemove) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Removing server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">destroy</span><span style="color:#BFBDB6">(server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    } </span><span style="color:#FF8F40">else</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // We have exactly the right number of servers</span></span>
<span class="line"><span style="color:#FF8F40">      for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> server </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> existingServers) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Keeping existing server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> - </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        serverMap</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">regions[region][server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">serverId] </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          url</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> serverMap</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// This script will output a list of server connection URLs that you can copy &#x26; paste in your game's frontend to show a server list</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> main</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> serverMap </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#FFB454"> manageServers</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">  writeFileSync</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'server-map.json'</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">(serverMap</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> null</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> 2</span><span style="color:#BFBDB6">))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Server map saved to server-map.json`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<p>To run this with the credentials auto-populated, use:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">Command Line</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">rivet</span><span style="color:#AAD94C"> shell</span><span style="color:#95E6CB"> --exec</span><span style="color:#AAD94C"> 'node manage-servers.js'</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<p>This script will output a list of server connection URLs that you can copy &amp; paste in your game&#x27;s frontend to show a server list.</p>
<h3 id="dynamic-load-based-scaling" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#dynamic-load-based-scaling"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#dynamic-load-based-scaling">Dynamic Load-Based Scaling</a></h3>
<p>Scale your server fleet up or down based on demand from your backend.</p>
<ul>
<li>Periodically check metrics (player count, server load) from your running servers</li>
<li>Call <a href="/docs/cloud/api/actors/create/"><code>actors.create</code></a> to add servers when needed</li>
<li>Call <a href="/docs/cloud/api/actors/destroy/"><code>actors.destroy</code></a> to remove underutilized servers</li>
<li>Implement custom scaling logic based on your game&#x27;s patterns</li>
</ul>
<p><strong>Example: Periodic scaling with setInterval</strong></p>
<p>In your own backend:</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">api-server.js</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { RivetClient } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> '@rivet-gg/api'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Initialize the Rivet client</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Configuration</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> SCALING_CHECK_INTERVAL </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 60000</span><span style="color:#BFBDB6B3">;</span><span style="color:#ACB6BF8C;font-style:italic"> // Check every minute</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> TARGET_PLAYER_PER_SERVER </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 10</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> MIN_SERVERS </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 2</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> MAX_SERVERS </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 20</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Start the scaling loop</span></span>
<span class="line"><span style="color:#BFBDB6">console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Starting server scaling service..."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FFB454">setInterval</span><span style="color:#BFBDB6">(checkAndAdjustServerCapacity</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> SCALING_CHECK_INTERVAL)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Function to check and adjust server capacity</span></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> checkAndAdjustServerCapacity</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#BFBDB6">  console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Running scaling check..."</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // 1. Get current servers and their metrics</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // See [actors.list](/docs/cloud/api/actors/list) for more filtering options</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> { actors } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">      tagsJson</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">({ name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6"> })</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // 2. Query each server for player count</span></span>
<span class="line"><span style="color:#FF8F40">    let</span><span style="color:#BFBDB6"> totalPlayers </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">    let</span><span style="color:#BFBDB6"> activeServers </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#FF8F40">    for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> actor </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> actors) {</span></span>
<span class="line"><span style="color:#FF8F40">      try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> statsUrl </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">http</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">/stats`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> response </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#FFB454"> fetch</span><span style="color:#BFBDB6">(statsUrl)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        const</span><span style="color:#BFBDB6"> stats </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> response</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#BFBDB6">        totalPlayers </span><span style="color:#F29668">+=</span><span style="color:#BFBDB6"> stats</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">playerCount</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">        if</span><span style="color:#BFBDB6"> (stats</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">playerCount </span><span style="color:#F29668">></span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) activeServers</span><span style="color:#F29668">++</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (err) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Failed to get stats for server </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> err)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // 3. Apply scaling logic</span></span>
<span class="line"><span style="color:#FF8F40">    let</span><span style="color:#BFBDB6"> targetServers </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">max</span><span style="color:#BFBDB6">(</span></span>
<span class="line"><span style="color:#BFBDB6">      MIN_SERVERS</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">min</span><span style="color:#BFBDB6">(</span></span>
<span class="line"><span style="color:#BFBDB6">        MAX_SERVERS</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        Math</span><span style="color:#F29668">.</span><span style="color:#FFB454">ceil</span><span style="color:#BFBDB6">(totalPlayers </span><span style="color:#F29668">/</span><span style="color:#BFBDB6"> TARGET_PLAYER_PER_SERVER) </span><span style="color:#F29668">+</span><span style="color:#D2A6FF"> 1</span><span style="color:#ACB6BF8C;font-style:italic"> // +1 for buffer</span></span>
<span class="line"><span style="color:#BFBDB6">      )</span></span>
<span class="line"><span style="color:#BFBDB6">    )</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // 4. Adjust server count</span></span>
<span class="line"><span style="color:#FF8F40">    if</span><span style="color:#BFBDB6"> (actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">&#x3C;</span><span style="color:#BFBDB6"> targetServers) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Create additional servers</span></span>
<span class="line"><span style="color:#BFBDB6">      console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Scaling up: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> → </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">targetServers</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> servers`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">let</span><span style="color:#BFBDB6"> i </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> i </span><span style="color:#F29668">&#x3C;</span><span style="color:#BFBDB6"> targetServers </span><span style="color:#F29668">-</span><span style="color:#BFBDB6"> actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#BFBDB6B3">;</span><span style="color:#BFBDB6"> i</span><span style="color:#F29668">++</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FF8F40">        await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">create</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">          body</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">            tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">              name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">              server_id</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> `dynamic-</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">Date</span><span style="color:#F29668">.</span><span style="color:#FFB454">now</span><span style="color:#BFBDB6">()</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">-</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">i</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span></span>
<span class="line"><span style="color:#BFBDB6">            }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">              ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">                game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">              }</span></span>
<span class="line"><span style="color:#BFBDB6">            }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            resources</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { cpu</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> memory</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1024</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">          }</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    } </span><span style="color:#FF8F40">else</span><span style="color:#FF8F40"> if</span><span style="color:#BFBDB6"> (actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">></span><span style="color:#BFBDB6"> targetServers) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">	  // NOTE: You likely want to wait for the server to have 0 players before destroying</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Find empty servers to remove</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> serversToRemove </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">slice</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">0</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">-</span><span style="color:#BFBDB6"> targetServers)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#FF8F40">      if</span><span style="color:#BFBDB6"> (serversToRemove</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">></span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Scaling down: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> → </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">-</span><span style="color:#BFBDB6"> serversToRemove</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> servers`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Destroy unused servers</span></span>
<span class="line"><span style="color:#FF8F40">        for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> server </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> serversToRemove) {</span></span>
<span class="line"><span style="color:#FF8F40">          await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">destroy</span><span style="color:#BFBDB6">(server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">            project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">            environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">          console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Destroyed empty server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">server</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Log the current state</span></span>
<span class="line"><span style="color:#BFBDB6">    console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Scaling check complete. </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">activeServers</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">/</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> servers active, </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">totalPlayers</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C"> total players`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (error) {</span></span>
<span class="line"><span style="color:#BFBDB6">    console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">"Error in scaling check:"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> error)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h3 id="on-demand-lobby-creation" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#on-demand-lobby-creation"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#on-demand-lobby-creation">On-Demand Lobby Creation</a></h3>
<p>Create game servers on-demand as players request to join lobbies.</p>
<ul>
<li>Your lobby management service maintains a state of available lobbies</li>
<li>When a player requests to join, check for available space in existing lobbies</li>
<li>If no space is available, create a new server instance</li>
<li>Clean up servers once they&#x27;re empty</li>
</ul>
<p><strong>Key Endpoints:</strong></p>
<ol>
<li>
<p><strong>Request to join lobby (called by client)</strong></p>
<ul>
<li>Check if there is space in existing lobbies</li>
<li>If not, create a new actor (handle race conditions appropriately)</li>
<li>Return connection information to the client</li>
</ul>
</li>
<li>
<p><strong>Player disconnected (called by lobby)</strong></p>
<ul>
<li>Remove player from lobby tracking</li>
<li>Destroy lobby if empty after a grace period</li>
</ul>
</li>
<li>
<p><strong>Heartbeat/watchdog</strong></p>
<ul>
<li>Implement timeout mechanisms for players who connect but never join</li>
<li>Clean up abandoned servers to prevent resource waste</li>
</ul>
</li>
</ol>
<p><strong>Example: On-demand lobby system with Hono</strong></p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { Hono } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> 'hono'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { RivetClient } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> '@rivet-gg/api'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> app </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> Hono</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// In-memory lobby tracking (use a database for production)</span></span>
<span class="line"><span style="color:#FF8F40">let</span><span style="color:#BFBDB6"> lobbies </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> []</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Player requests to join a lobby</span></span>
<span class="line"><span style="color:#BFBDB6">app</span><span style="color:#F29668">.</span><span style="color:#FFB454">post</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'/lobbies/join'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">c</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { playerId } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Find a lobby with space</span></span>
<span class="line"><span style="color:#FF8F40">  let</span><span style="color:#BFBDB6"> lobby </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> lobbies</span><span style="color:#F29668">.</span><span style="color:#FFB454">find</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">l</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> l</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">playerCount </span><span style="color:#F29668">&#x3C;</span><span style="color:#BFBDB6"> l</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">maxPlayers)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Create a new lobby if none available</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">lobby) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Create a new server actor</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // See [actors.create](/docs/cloud/api/actors/create)</span></span>
<span class="line"><span style="color:#FF8F40">    const</span><span style="color:#BFBDB6"> { actor } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">create</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">      body</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">          name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-lobby"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          created_at</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> Date</span><span style="color:#F29668">.</span><span style="color:#FFB454">now</span><span style="color:#BFBDB6">()</span><span style="color:#F29668">.</span><span style="color:#FFB454">toString</span><span style="color:#BFBDB6">()</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">            game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">          }</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        resources</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { cpu</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> memory</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1024</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">    // Track the new lobby</span></span>
<span class="line"><span style="color:#BFBDB6">    lobby </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      players</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> []</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      maxPlayers</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 8</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      gameUrl</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      createdAt</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> Date</span><span style="color:#F29668">.</span><span style="color:#FFB454">now</span><span style="color:#BFBDB6">()</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    </span></span>
<span class="line"><span style="color:#BFBDB6">    lobbies</span><span style="color:#F29668">.</span><span style="color:#FFB454">push</span><span style="color:#BFBDB6">(lobby)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Add player to lobby</span></span>
<span class="line"><span style="color:#BFBDB6">  lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">players</span><span style="color:#F29668">.</span><span style="color:#FFB454">push</span><span style="color:#BFBDB6">(playerId)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Return connection info to the player</span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    lobbyId</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    connectionInfo</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      gameUrl</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">gameUrl</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Server reports player disconnection</span></span>
<span class="line"><span style="color:#BFBDB6">app</span><span style="color:#F29668">.</span><span style="color:#FFB454">post</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'/lobbies/:lobbyId/player-disconnected'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">c</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> lobbyId </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">param</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'lobbyId'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { playerId } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> lobby </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> lobbies</span><span style="color:#F29668">.</span><span style="color:#FFB454">find</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">l</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> l</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id </span><span style="color:#F29668">===</span><span style="color:#BFBDB6"> lobbyId)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">lobby) </span><span style="color:#FF8F40">return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({ error</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "Lobby not found"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> 404</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Remove player</span></span>
<span class="line"><span style="color:#BFBDB6">  lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">players </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">players</span><span style="color:#F29668">.</span><span style="color:#FFB454">filter</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">id</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> id </span><span style="color:#F29668">!==</span><span style="color:#BFBDB6"> playerId)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Destroy empty lobby after a grace period</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (lobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">players</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">===</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#FFB454">    setTimeout</span><span style="color:#BFBDB6">(</span><span style="color:#FF8F40">async</span><span style="color:#BFBDB6"> () </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Check again in case players joined during grace period</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> currentLobby </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> lobbies</span><span style="color:#F29668">.</span><span style="color:#FFB454">find</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">l</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> l</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id </span><span style="color:#F29668">===</span><span style="color:#BFBDB6"> lobbyId)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      if</span><span style="color:#BFBDB6"> (currentLobby </span><span style="color:#F29668">&#x26;&#x26;</span><span style="color:#BFBDB6"> currentLobby</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">players</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">length </span><span style="color:#F29668">===</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Destroy the actor</span></span>
<span class="line"><span style="color:#FF8F40">        await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">destroy</span><span style="color:#BFBDB6">(lobbyId</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // Remove from tracking</span></span>
<span class="line"><span style="color:#BFBDB6">        lobbies </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> lobbies</span><span style="color:#F29668">.</span><span style="color:#FFB454">filter</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">l</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> l</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id </span><span style="color:#F29668">!==</span><span style="color:#BFBDB6"> lobbyId)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> 5</span><span style="color:#F29668"> *</span><span style="color:#D2A6FF"> 60</span><span style="color:#F29668"> *</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span><span style="color:#ACB6BF8C;font-style:italic"> // 5 minute grace period</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({ success</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> true</span><span style="color:#BFBDB6"> })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#BFBDB6"> app</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h3 id="custom-game-lobbies" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#custom-game-lobbies"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#custom-game-lobbies">Custom Game Lobbies</a></h3>
<p>Create customized game servers on-demand with specific configurations.</p>
<div class="relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-yellow-950/20 border-yellow-700/50"><div class="flex-shrink-0 pt-0.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="triangle-exclamation" class="svg-inline--fa fa-triangle-exclamation w-5 h-5 text-yellow-400" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></svg></div><div class="flex-1 prose-invert prose max-w-full w-full text-yellow-100"><p>Always implement lobby creation in your trusted backend, never in client code.</p></div></div>
<ul>
<li>Create actors with specific configurations via environment variables</li>
<li>Customize CPU and memory resources for demanding game modes</li>
<li>Use tags for organizing and querying actors with <a href="/docs/cloud/api/actors/list/"><code>actors.list</code></a></li>
<li>Filter and monitor lobbies in the dashboard</li>
</ul>
<p><strong>Example: Custom lobby creation with Hono</strong></p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { Hono } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> 'hono'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { RivetClient } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> '@rivet-gg/api'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> app </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> Hono</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// Create a custom lobby with specific settings</span></span>
<span class="line"><span style="color:#BFBDB6">app</span><span style="color:#F29668">.</span><span style="color:#FFB454">post</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'/lobbies/custom'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">c</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">    playerId</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    gameMode</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    mapName</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    playerLimit</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    isPrivate</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    password</span></span>
<span class="line"><span style="color:#BFBDB6">  } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Validate inputs</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (</span><span style="color:#F29668">!</span><span style="color:#BFBDB6">playerId </span><span style="color:#F29668">||</span><span style="color:#F29668"> !</span><span style="color:#BFBDB6">gameMode </span><span style="color:#F29668">||</span><span style="color:#F29668"> !</span><span style="color:#BFBDB6">mapName) {</span></span>
<span class="line"><span style="color:#FF8F40">    return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({ error</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "Missing required fields"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span><span style="color:#D2A6FF"> 400</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Determine resources based on game mode</span></span>
<span class="line"><span style="color:#FF8F40">  let</span><span style="color:#BFBDB6"> cpu </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  let</span><span style="color:#BFBDB6"> memory </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 1024</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (gameMode </span><span style="color:#F29668">===</span><span style="color:#AAD94C"> "battle-royale"</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#BFBDB6">    cpu </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 2000</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    memory </span><span style="color:#F29668">=</span><span style="color:#D2A6FF"> 2048</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Create the custom lobby actor</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { actor } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">create</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    body</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span></span>
<span class="line"><span style="color:#BFBDB6">        name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "custom-lobby"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        game_mode</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> gameMode</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        map</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> mapName</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        host_player</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> playerId</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        is_private</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> isPrivate </span><span style="color:#F29668">?</span><span style="color:#AAD94C"> "true"</span><span style="color:#F29668"> :</span><span style="color:#AAD94C"> "false"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        created_at</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> Date</span><span style="color:#F29668">.</span><span style="color:#FFB454">now</span><span style="color:#BFBDB6">()</span><span style="color:#F29668">.</span><span style="color:#FFB454">toString</span><span style="color:#BFBDB6">()</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"><span style="color:#BFBDB6">        }</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      resources</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { cpu</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> memory }</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">      env</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">        GAME_MODE</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> gameMode</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        MAP_NAME</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> mapName</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        PLAYER_LIMIT</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> playerLimit</span><span style="color:#F29668">?.</span><span style="color:#FFB454">toString</span><span style="color:#BFBDB6">() </span><span style="color:#F29668">||</span><span style="color:#AAD94C"> "8"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        IS_PRIVATE</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> isPrivate </span><span style="color:#F29668">?</span><span style="color:#AAD94C"> "true"</span><span style="color:#F29668"> :</span><span style="color:#AAD94C"> "false"</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> </span></span>
<span class="line"><span style="color:#BFBDB6">        LOBBY_PASSWORD</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> password </span><span style="color:#F29668">||</span><span style="color:#AAD94C"> ""</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Return connection information</span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    lobbyId</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    connectionInfo</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">      gameUrl</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">// List lobbies with filtering</span></span>
<span class="line"><span style="color:#BFBDB6">app</span><span style="color:#F29668">.</span><span style="color:#FFB454">get</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'/lobbies'</span><span style="color:#BFBDB6B3">,</span><span style="color:#FF8F40"> async</span><span style="color:#BFBDB6"> (</span><span style="color:#D2A6FF">c</span><span style="color:#BFBDB6">) </span><span style="color:#FF8F40">=></span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> gameMode </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">query</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'gameMode'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> map </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">query</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'map'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> isPrivate </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">req</span><span style="color:#F29668">.</span><span style="color:#FFB454">query</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">'isPrivate'</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Build tag filter</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> tags </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> { name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "custom-lobby"</span><span style="color:#BFBDB6"> }</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (gameMode) tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game_mode </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> gameMode</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (map) tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">map </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> map</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">  if</span><span style="color:#BFBDB6"> (isPrivate) tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">is_private </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> isPrivate</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Query lobbies</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { actors } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    tagsJson</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">(tags)</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Transform response</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> lobbies </span><span style="color:#F29668">=</span><span style="color:#BFBDB6"> actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">map</span><span style="color:#BFBDB6">(</span><span style="color:#D2A6FF">actor</span><span style="color:#FF8F40"> =></span><span style="color:#BFBDB6"> ({</span></span>
<span class="line"><span style="color:#BFBDB6">    id</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    gameMode</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">game_mode</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    map</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">map</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    hostPlayer</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">host_player</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    isPrivate</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">is_private </span><span style="color:#F29668">===</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">    createdAt</span><span style="color:#BFBDB6B3">:</span><span style="color:#FFB454"> parseInt</span><span style="color:#BFBDB6">(actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">tags</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">created_at)</span></span>
<span class="line"><span style="color:#BFBDB6">  }))</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#FF8F40">  return</span><span style="color:#BFBDB6"> c</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">({ lobbies })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">})</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">export</span><span style="color:#FF8F40"> default</span><span style="color:#BFBDB6"> app</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h2 id="upgrading-servers" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#upgrading-servers"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#upgrading-servers">Upgrading Servers</a></h2>
<p>Choose the upgrade approach that best fits your game&#x27;s requirements:</p>
<ul>
<li><strong>Default Behavior</strong>: Best for development or games that can tolerate brief interruptions</li>
<li><strong>Targeted Upgrading</strong>: Ideal for testing new versions on a subset of servers before full rollout</li>
<li><strong>Zero-Downtime Rolling</strong>: Essential for production games where player sessions must be preserved</li>
</ul>
<h3 id="default-behavior" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#default-behavior"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#default-behavior">Default Behavior</a></h3>
<p>When you run <code>rivet deploy</code>, your game server code is uploaded and all running <a href="/docs/durability/">durable</a> actors are automatically upgraded:</p>
<ul>
<li>When deploying a new version, actors receive a SIGTERM signal</li>
<li>They have a 30-second grace period to clean up and shutdown</li>
<li>New actors start automatically using the updated code</li>
<li>This is the simplest approach but will disconnect active players</li>
</ul>
<h3 id="targeted-server-upgrading" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#targeted-server-upgrading"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#targeted-server-upgrading">Targeted Server Upgrading</a></h3>
<p>If you want more control over upgrading your servers, you can use targeted upgrades to selectively update specific servers:</p>
<ul>
<li>Call <a href="/docs/cloud/api/actors/upgrade/"><code>actors.upgrade</code></a> on specific actors</li>
<li>Useful for testing updates on a subset of servers</li>
<li>Allows controlled rollout of new versions</li>
<li>Can target empty or low-population servers first</li>
<li>Example: Upgrade only empty servers first</li>
<li>Validate new version behavior before full rollout</li>
</ul>
<p><strong>Example: Manual selective upgrading</strong></p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#FF8F40">import</span><span style="color:#BFBDB6"> { RivetClient } </span><span style="color:#FF8F40">from</span><span style="color:#AAD94C"> '@rivet-gg/api'</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF8F40">async</span><span style="color:#FF8F40"> function</span><span style="color:#FFB454"> upgradeEmptyServers</span><span style="color:#BFBDB6">() {</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> client </span><span style="color:#F29668">=</span><span style="color:#F29668"> new</span><span style="color:#FFB454"> RivetClient</span><span style="color:#BFBDB6">({ token</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_TOKEN })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // List all game servers</span></span>
<span class="line"><span style="color:#FF8F40">  const</span><span style="color:#BFBDB6"> { actors } </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">list</span><span style="color:#BFBDB6">({</span></span>
<span class="line"><span style="color:#BFBDB6">    tagsJson</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> JSON</span><span style="color:#F29668">.</span><span style="color:#FFB454">stringify</span><span style="color:#BFBDB6">({ name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6"> })</span></span>
<span class="line"><span style="color:#BFBDB6">  })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">  </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">  // Check each server for player count</span></span>
<span class="line"><span style="color:#FF8F40">  for</span><span style="color:#BFBDB6"> (</span><span style="color:#FF8F40">const</span><span style="color:#BFBDB6"> actor </span><span style="color:#F29668">of</span><span style="color:#BFBDB6"> actors) {</span></span>
<span class="line"><span style="color:#FF8F40">    try</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> statsUrl </span><span style="color:#F29668">=</span><span style="color:#AAD94C"> `</span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">network</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">ports</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">http</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">url</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">/stats`</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> response </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#FFB454"> fetch</span><span style="color:#BFBDB6">(statsUrl)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#FF8F40">      const</span><span style="color:#BFBDB6"> stats </span><span style="color:#F29668">=</span><span style="color:#FF8F40"> await</span><span style="color:#BFBDB6"> response</span><span style="color:#F29668">.</span><span style="color:#FFB454">json</span><span style="color:#BFBDB6">()</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      </span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">      // Upgrade servers with no players</span></span>
<span class="line"><span style="color:#FF8F40">      if</span><span style="color:#BFBDB6"> (stats</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">playerCount </span><span style="color:#F29668">===</span><span style="color:#D2A6FF"> 0</span><span style="color:#BFBDB6">) {</span></span>
<span class="line"><span style="color:#ACB6BF8C;font-style:italic">        // See [actors.upgrade](/docs/cloud/api/actors/upgrade) for more options</span></span>
<span class="line"><span style="color:#FF8F40">        await</span><span style="color:#BFBDB6"> client</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">actors</span><span style="color:#F29668">.</span><span style="color:#FFB454">upgrade</span><span style="color:#BFBDB6">(actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> {</span></span>
<span class="line"><span style="color:#BFBDB6">          project</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_PROJECT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">          environment</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> process</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">env</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">RIVET_ENVIRONMENT_ID</span><span style="color:#BFBDB6B3">,</span></span>
<span class="line"><span style="color:#BFBDB6">        })</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">        console</span><span style="color:#F29668">.</span><span style="color:#FFB454">log</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Upgraded empty server: </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6">)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">      }</span></span>
<span class="line"><span style="color:#BFBDB6">    } </span><span style="color:#FF8F40">catch</span><span style="color:#BFBDB6"> (err) {</span></span>
<span class="line"><span style="color:#BFBDB6">      console</span><span style="color:#F29668">.</span><span style="color:#FFB454">error</span><span style="color:#BFBDB6">(</span><span style="color:#AAD94C">`Failed to check server </span><span style="color:#FF8F40">${</span><span style="color:#BFBDB6">actor</span><span style="color:#F29668">.</span><span style="color:#BFBDB6">id</span><span style="color:#FF8F40">}</span><span style="color:#AAD94C">`</span><span style="color:#BFBDB6B3">,</span><span style="color:#BFBDB6"> err)</span><span style="color:#BFBDB6B3">;</span></span>
<span class="line"><span style="color:#BFBDB6">    }</span></span>
<span class="line"><span style="color:#BFBDB6">  }</span></span>
<span class="line"><span style="color:#BFBDB6">}</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
<h3 id="zero-downtime-rolling-upgrades-with-draining" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#zero-downtime-rolling-upgrades-with-draining"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#zero-downtime-rolling-upgrades-with-draining">Zero-Downtime Rolling Upgrades With Draining</a></h3>
<p>For production games, it&#x27;s highly recommended to implement a system for routing new players to updated servers while allowing existing sessions to complete naturally:</p>
<ul>
<li>Implement custom logic to gradually upgrade servers</li>
<li>Start sending new players to new server versions</li>
<li>Wait for old servers to naturally empty out as players finish their sessions</li>
<li>This approach preserves gameplay sessions on existing servers</li>
<li>Requires more complex implementation but provides the best player experience</li>
</ul>
<h2 id="server-configuration-options" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#server-configuration-options"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#server-configuration-options">Server Configuration Options</a></h2>
<p>When creating game servers with <a href="/docs/cloud/api/actors/create/"><code>actors.create</code></a>, you can configure:</p>
<ul>
<li>
<p><strong>Network</strong>: Define HTTPS/WSS ports, custom paths, and routing options</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">network</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">ports</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">game</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">protocol</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "https"</span><span style="color:#BFBDB6"> } } }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Resources</strong>: Customize CPU and memory allocation</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">resources</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">cpu</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1000</span><span style="color:#BFBDB6B3">,</span><span style="color:#59C2FF"> memory</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 1024</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Environment Variables</strong>: Configure server behavior via <code>process.env</code></p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">env</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">MAX_PLAYERS</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "16"</span><span style="color:#BFBDB6B3">,</span><span style="color:#59C2FF"> MAP_ROTATION</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "dust,nuke,inferno"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Tags</strong>: Add metadata for filtering and organization</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">tags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">mode</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "ranked"</span><span style="color:#BFBDB6B3">,</span><span style="color:#59C2FF"> region</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "us-east"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Lifecycle</strong>: Set up <a href="/docs/durability/">durability</a> and idle timeouts</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">lifecycle</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">durable</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> true</span><span style="color:#BFBDB6B3">,</span><span style="color:#59C2FF"> idle_timeout</span><span style="color:#BFBDB6B3">:</span><span style="color:#D2A6FF"> 300</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Build Selection</strong>: Target specific versions of your server code</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">buildTags</span><span style="color:#BFBDB6B3">:</span><span style="color:#BFBDB6"> { </span><span style="color:#59C2FF">name</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "game-server"</span><span style="color:#BFBDB6B3">,</span><span style="color:#59C2FF"> current</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "true"</span><span style="color:#BFBDB6"> }</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
<li>
<p><strong>Region Selection</strong>: Deploy to <a href="/docs/edge/">specific regions</a> for lower latency</p>
<div class="not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none" data-code-group="true"><div class="text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs"><div class="text-muted-foreground flex items-center gap-1"><div class="inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground">TypeScript</div></div><button class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"></path></svg></button></div><div class="bg-background text-wrap p-2 text-sm"><div dir="ltr" class="relative overflow-hidden w-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit] [&amp;&gt;div]:!block" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><span class="not-prose code"><pre class="shiki ayu-dark" style="background-color:#0c0a09;color:#bfbdb6" tabindex="0"><code><span class="line"><span style="color:#59C2FF">region</span><span style="color:#BFBDB6B3">:</span><span style="color:#AAD94C"> "atl"</span><span style="color:#ACB6BF8C;font-style:italic"> // Atlanta</span></span>
<span class="line"></span></code></pre></span></div></div></div></div></div>
</li>
</ul>
<p>For detailed documentation, see:</p>
<ul>
<li><a href="/docs/cloud/api/actors/create/">Actors Create API Reference</a></li>
<li><a href="/docs/actors/">Actors</a></li>
<li><a href="/docs/cloud/containers/">Containers</a></li>
<li><a href="/docs/config/">Configuration Reference</a></li>
</ul>
<h2 id="learning-more" class="scroll-mt-header group relative scroll-mt-header-offset"><div class="group absolute -left-10 top-1 h-full pr-10"><a class="group group/button items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border border-input bg-transparent hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [&amp;_svg]:size-3 gap-1.5 not-prose relative hidden group-hover:flex" href="#learning-more"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></svg></a></div><a class="group text-inherit no-underline hover:text-inherit" href="#learning-more">Learning More</a></h2>
<p>For more comprehensive coverage of game server development with Rivet:</p>
<ul>
<li><strong><a href="/docs/api/">Rivet API Docs</a></strong> - Complete API reference for direct Rivet integration</li>
<li><strong><a href="/docs/local-development/">Local Development</a></strong> - Setting up your local environment for development</li>
<li><strong><a href="/docs/troubleshooting/">Troubleshooting</a></strong> - Common issues and their solutions</li>
</ul></article><div class="border-t mt-8 mb-2"></div><a href="https://github.com/rivet-gg/rivet/edit/main/site/src/content/docs/cloud/solutions/game-servers.mdx" target="_blank" rel="noreferrer" class="group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:size-[1em] hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1.5"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path></svg>Suggest changes to this page</a><div class="mt-4 no-prose"></div></main><aside class="hidden xl:block w-64 min-w-0 flex-shrink-0 pb-4"><div class="lg:max-h-content lg:top-header pt-10 lg:pt-6 w-full lg:pointer-events-auto lg:sticky lg:block lg:max-w-aside lg:self-start lg:overflow-y-auto lg:max-h-content"><div class="relative"><div class="relative"><ul><li class="relative"><div class="relative"><a aria-current="page" class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#quickstart"><span class="truncate">Quickstart</span></a></div><div class="relative pl-3"><ul><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-1-preparing-your-game-server-code"><span class="truncate">Step 1: Preparing your game server code</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-2-creating-a-rivet-configuration"><span class="truncate">Step 2: Creating a Rivet configuration</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-3-deploying-your-game-server"><span class="truncate">Step 3: Deploying your game server</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-4-optional-starting-game-server-instances-with-a-backend-api"><span class="truncate">Step 4 (optional): Starting game server instances with a backend API</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-5-optional-connecting-players-to-your-game-server"><span class="truncate">Step 5 (optional): Connecting players to your game server</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#step-6-optional-destroying-servers-once-finished"><span class="truncate">Step 6 (optional): Destroying servers once finished</span></a></div></li></ul></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#global-regions"><span class="truncate">Global Regions</span></a></div><div class="relative pl-3"><ul><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#available-regions"><span class="truncate">Available Regions</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#region-selection"><span class="truncate">Region Selection</span></a></div></li></ul></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#scaling-methods"><span class="truncate">Scaling Methods</span></a></div><div class="relative pl-3"><ul><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#static-server-fleet"><span class="truncate">Static Server Fleet</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#dynamic-load-based-scaling"><span class="truncate">Dynamic Load-Based Scaling</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#on-demand-lobby-creation"><span class="truncate">On-Demand Lobby Creation</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#custom-game-lobbies"><span class="truncate">Custom Game Lobbies</span></a></div></li></ul></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#upgrading-servers"><span class="truncate">Upgrading Servers</span></a></div><div class="relative pl-3"><ul><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#default-behavior"><span class="truncate">Default Behavior</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#targeted-server-upgrading"><span class="truncate">Targeted Server Upgrading</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#zero-downtime-rolling-upgrades-with-draining"><span class="truncate">Zero-Downtime Rolling Upgrades With Draining</span></a></div></li></ul></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#server-configuration-options"><span class="truncate">Server Configuration Options</span></a></div></li><li class="relative"><div class="relative"><a class="group flex w-full items-center rounded-md border border-transparent px-2 py-1 text-sm text-muted-foreground hover:underline aria-current-page:text-foreground" href="#learning-more"><span class="truncate">Learning More</span></a></div></li></ul><form class="mt-6 px-2"><div class="flex flex-col gap-2"><label class="font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-sm" for="newsletter-email">Rivet Newsletter</label><input type="email" required="" placeholder="you@company.com" autoComplete="email" class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:text-foreground file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-sm" name="$survey_response_2adad347-bc39-48f3-b5d1-755278685c94"/><button class="group group/button inline-flex items-center justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 border button-secondary bg-secondary text-secondary-foreground hover:bg-secondary/80 h-7 rounded-md px-2 text-xs [&amp;_svg]:size-3 gap-1.5" type="submit">Subscribe</button></div></form></div></div></div></aside></div></div><!--$--><!--/$--><!--$--><!--/$--></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><div><hr class="mb-8 border-white/10"/><footer aria-labelledby="footer-heading" class="mx-auto max-w-screen-2xl px-6 lg:px-12"><h2 id="footer-heading" class="sr-only">Footer</h2><div class="mx-auto max-w-screen-2xl w-full pb-8 pt-16 sm:pt-20"><div class="xl:grid xl:grid-cols-12 xl:gap-24"><div class="space-y-8 xl:col-span-3"><img alt="Rivet" loading="lazy" width="128" height="128" decoding="async" data-nimg="1" class="size-12" style="color:transparent" src="/_next/static/media/icon-white.4596e04f.svg"/><p class="text-sm leading-6 text-gray-300">The open-source alternative to Durable Objects</p><div class="flex space-x-6"><a class="text-xl text-gray-500 hover:text-gray-400" href="https://discord.gg/aXYfyNxYVn"><span class="sr-only">Discord</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" class="svg-inline--fa fa-discord " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a><a class="text-xl text-gray-500 hover:text-gray-400" href="https://twitter.com/rivet_gg"><span class="sr-only">Twitter</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a class="text-xl text-gray-500 hover:text-gray-400" href="https://bsky.app/profile/rivet.gg"><span class="sr-only">Bluesky</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="bluesky" class="svg-inline--fa fa-bluesky " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></svg></a><a class="text-xl text-gray-500 hover:text-gray-400" href="https://github.com/rivet-gg"><span class="sr-only">GitHub</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a class="text-xl text-gray-500 hover:text-gray-400" href="https://www.youtube.com/@rivet-gg"><span class="sr-only">YouTube</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" class="svg-inline--fa fa-youtube " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a><a class="text-xl text-gray-500 hover:text-gray-400" href="https://www.linkedin.com/company/72072261/"><span class="sr-only">LinkedIn</span><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div></div><div class="mt-16 grid grid-cols-1 gap-x-12 gap-y-8 md:grid-cols-4 xl:col-span-9 xl:mt-0"><div><div class="text-sm font-semibold leading-6 text-white">Product</div><ul role="list" class="mt-3 space-y-2"><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/docs/actors/">Actors</a></li></ul></div><div><div class="text-sm font-semibold leading-6 text-white">Developers</div><ul role="list" class="mt-3 space-y-2"><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/docs/actors/">Documentation</a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/changelog/">Changelog</a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="https://rivet.betteruptime.com/">Status Page</a></li></ul></div><div><div class="text-sm font-semibold leading-6 text-white">Resources</div><ul role="list" class="mt-3 space-y-2"><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/blog/"><span class="">Blog</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/rivet-vs-cloudflare-workers/"><span class="">Rivet vs Cloudflare Workers</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/pricing/"><span class="">Pricing</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/talk-to-an-engineer/"><span class="">Talk to an engineer</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/sales/"><span class="">Sales</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/oss-friends/"><span class="">Open-Source Friends</span></a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="https://releases.rivet.gg/press-kit.zip"><span class="">Press Kit</span></a></li></ul></div><div><div class="text-sm font-semibold leading-6 text-white">Legal</div><ul role="list" class="mt-3 space-y-2"><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/terms/">Terms</a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/privacy/">Privacy Policy</a></li><li><a class="text-sm leading-4 text-gray-300 hover:text-white" href="/acceptable-use/">Acceptable Use</a></li></ul></div></div></div><div class="mt-4 border-t border-white/10 pt-4 text-center md:mt-8"><p class="text-xs leading-5 text-white">© <!-- -->2025<!-- --> Rivet Gaming, Inc. All rights reserved.</p><p class="text-xs leading-5 text-white/30">Cloudflare® and Durable Objects™ are trademarks of Cloudflare, Inc. No affiliation or endorsement implied. References used for comparison purposes only.</p></div></div></footer></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script src="/_next/static/chunks/webpack-1a373ad8fd0a15c2.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[65327,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"3285\",\"static/chunks/3285-d8e61078321bd50f.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"3459\",\"static/chunks/3459-aa0b1d8277b7bbbd.js\",\"7177\",\"static/chunks/app/layout-e3cfc449b871f8f6.js\"],\"GoogleAnalytics\"]\n3:I[559,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"3285\",\"static/chunks/3285-d8e61078321bd50f.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"3459\",\"static/chunks/3459-aa0b1d8277b7bbbd.js\",\"7177\",\"static/chunks/app/layout-e3cfc449b871f8f6.js\"],\"\"]\n4:I[32761,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"TooltipProvider\"]\n5:I[79838,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"3285\",\"static/chunks/3285-d8e61078321bd50f.js\",\"9657\",\"static/chunks/9657-90"])</script><script>self.__next_f.push([1,"d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"3459\",\"static/chunks/3459-aa0b1d8277b7bbbd.js\",\"7177\",\"static/chunks/app/layout-e3cfc449b871f8f6.js\"],\"Providers\"]\n6:I[49287,[],\"\"]\n7:I[34235,[],\"\"]\n8:I[91971,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"Toaster\"]\n9:I[82345,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"3591\",\"static/chunks/3591-193e430a542376f5.js\",\"4395\",\"static/chunks/4395-09a8f40ef66f9d5c.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"7261\",\"static/chunks/7261-eddb3e7984c54a8d.js\",\"6213\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/layout-98b1c4e9d514d53c.js\"],\"Header\"]\na:I[59534,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"\"]\nb:\"$Sreact.suspense\"\nc:I[82813,[\"71"])</script><script>self.__next_f.push([1,"34\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"3459\",\"static/chunks/3459-aa0b1d8277b7bbbd.js\",\"5519\",\"static/chunks/app/(v2)/layout-24f9ee0b53a6742c.js\"],\"EmbedDetector\"]\nd:I[53696,[\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"3459\",\"static/chunks/3459-aa0b1d8277b7bbbd.js\",\"5519\",\"static/chunks/app/(v2)/layout-24f9ee0b53a6742c.js\"],\"Footer\"]\ne:I[82778,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"3591\",\"static/chunks/3591-193e430a542376f5.js\",\"4395\",\"static/chunks/4395-09a8f40ef66f9d5c.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"7261\",\"static/chunks/7261-eddb3e7984c54a8d.js\",\"6213\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/layout-98b1c4e9d514d53c.js\"],\"NavigationStateProvider\"]\n10:I[93621,[],\"MetadataBoundary\"]\n12:I[93621,[],\"OutletBoundary\"]\n15:I[16867,[],\"AsyncMetadataOutlet\"]\n17:I[93621,[],\"ViewportBoundary\"]\n19:I[27890,[],\"\"]\n:HL[\"/_next/static/css/565f4925fe90494c.css\",\"style\"]\n:HL[\"/_next/static/css/b2a053553e69c47d.css\",\"style\"]\n:HL[\"/_next/static/css/9ded352fd1582faa.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"xyrr8R3WCFgaolPiXJ-Nn\",\"p\":\"\",\"c\":[\"\",\"docs\",\"cloud\",\"solutions\",\"game-servers\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(v2)\",{\"children\":[[\"section\",\"docs\",\"d\"],{\"children\":[[\"page\",\"cloud/solutions/game-servers\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/565f4925fe90494c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"dark\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"$L2\",null,{\"gaId\":\"G-GHX1328ZFD\"}],[\"$\",\"$L3\",null,{\"src\":\"https://analytics.ahrefs.com/analytics.js\",\"data-key\":\"wQAsHie9RgJMLNhmUbr/fQ\",\"strategy\":\"beforeInteractive\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/icons/apple-touch-icon.png?20240925\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/icons/favicon-32x32.png?20240925\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/icons/favicon-16x16.png?20240925\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/icons/site.webmanifest?20240925\"}],[\"$\",\"link\",null,{\"rel\":\"mask-icon\",\"href\":\"/icons/safari-pinned-tab.svg?20240925\",\"color\":\"#5bbad5\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#0c0a09\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"content\":\"#0c0a09\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1.0\"}]]}],[\"$\",\"body\",null,{\"className\":\"dark\",\"children\":[[\"$\",\"$L4\",null,{\"children\":[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"$L8\",null,{\"theme\":\"system\",\"className\":\"toaster group right-8\",\"toastOptions\":{\"classNames\":{\"toast\":\"group toast group-[.toaster]:bg-card group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg group-[.toaster]:border group-[.toaster]:rounded-md\",\"description\":\"group-[.toast]:text-muted-foreground\",\"actionButton\":\"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\"cancelButton\":\"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\"}}}]]}]]}]]}],{\"children\":[\"(v2)\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b2a053553e69c47d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/9ded352fd1582faa.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"$L9\",null,{\"variant\":\"floating\"}],[\"$\",\"div\",null,{\"className\":\"relative flex min-h-[80vh] w-full items-center justify-center text-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"transition-opacity\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"mb-3 flex items-center justify-center text-3xl text-white\",\"children\":[[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"block-question\",\"className\":\"svg-inline--fa fa-block-question mr-2 size-10\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm73.8 149.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L248 280.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM192 368a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 104a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM376 80a24 24 0 1 1 0 48 24 24 0 1 1 0-48zM48 408a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm328-24a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\",\"style\":{}}]}],\" \",\"Not Found\"]}],[\"$\",\"$La\",null,{\"aria-selected\":false,\"className\":\"relative inline-flex items-center justify-center gap-0.5 overflow-hidden font-semibold transition inline-flex items-center justify-center gap-0.5 rounded-sm px-3 py-1 text-sm font-semibold bg-transparent text-cream-100 border-2 border-cream-100 hover:bg-cream-100 hover:text-charcole-950\",\"href\":\"/\",\"children\":[null,false,\"Home\",false]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"$b\",null,{\"children\":[\"$\",\"$Lc\",null,{}]}],[\"$\",\"$Ld\",null,{}]]]}],{\"children\":[[\"section\",\"docs\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"page\",\"cloud/solutions/game-servers\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$Le\",null,{\"children\":[[\"$\",\"$L9\",null,{\"active\":\"docs\",\"subnav\":[\"$\",\"div\",null,{\"className\":\"hidden h-14 items-center empty:hidden md:flex gap-4 pt-2\",\"children\":[[\"$\",\"$La\",\"0\",{\"href\":\"/docs\",\"target\":\"$undefined\",\"aria-current\":\"$undefined\",\"children\":[\"Documentation\"],\"className\":\"group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full\",\"ref\":null,\"disabled\":\"$undefined\"}],[\"$\",\"$La\",\"1\",{\"href\":\"/docs/cloud\",\"target\":\"$undefined\",\"aria-current\":\"$undefined\",\"children\":[\"Cloud\"],\"className\":\"group group/button justify-center whitespace-nowrap font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:size-[1em] hover:text-accent-foreground py-2 gap-1.5 text-muted-foreground aria-current-page:text-foreground px-0 text-sm hover:bg-transparent flex items-center border-b-2 border-transparent aria-current-page:border-primary rounded-none h-full\",\"ref\":null,\"disabled\":\"$undefined\"}]]}],\"variant\":\"full-width\",\"mobileSidebar\":null}],[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"div\",null,{\"className\":\"md:grid-cols-docs-no-sidebar lg:grid-cols-docs mx-auto flex w-full flex-col justify-center md:grid min-h-content\",\"style\":{\"--header-height\":\"6.5rem\"},\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Lf\",[\"$\",\"$L10\",null,{\"children\":\"$L11\"}],null,[\"$\",\"$L12\",null,{\"children\":[\"$L13\",\"$L14\",[\"$\",\"$L15\",null,{\"promise\":\"$@16\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"NhJ1vzHC1CC8wUbRogNZN\",{\"children\":[[\"$\",\"$L17\",null,{\"children\":\"$L18\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$19\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"1a:I[16867,[],\"AsyncMetadata\"]\n11:[\"$\",\"$b\",null,{\"fallback\":null,\"children\":[\"$\",\"$L1a\",null,{\"promise\":\"$@1b\"}]}]\n"])</script><script>self.__next_f.push([1,"14:null\n"])</script><script>self.__next_f.push([1,"1c:I[88995,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"DocsPageDropdown\"]\n1d:I[75036,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"Heading\"]\n1e:I[48652,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"Tabs\"]\n1f:I[63843,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks"])</script><script>self.__next_f.push([1,"/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"ScrollArea\"]\n20:I[48652,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"TabsList\"]\n21:I[48652,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"TabsTrigger\"]\n22:I[48652,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"TabsContent\"]\n23:I[32761,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c"])</script><script>self.__next_f.push([1,"4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"WithTooltip\"]\n24:I[30860,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"CopyCodeTrigger\"]\n31:I[19897,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"Comments\"]\n32:I[9777,[\"1965\",\"static/chunks/f67032f2-9c72234b0d8f41b4.js\",\"8229\",\"static/chunks/9da6db1e-dbfab9261a7c6a02.js\",\"7134\",\"static/chunks/7134-7a2ccc87dc1f1c96.js\",\"9078\",\"static/chunks/9078-9c4b2ff48765f274.js\",\"6855\",\"static/chunks/6855-c97c866fb9680afe.js\",\"5051\",\"static/chunks/5051-51ff92d736937f41.js\",\"9657\",\"static/chunks/9657-90d7d8e86cd8d7b3.js\",\"1983\",\"static/chunks/1983-7439545cf8f39348.js\",\"7678\",\"static/chunks/7678-80db3db210142fa5.js\",\"1834\",\"static/chunks/app/(v2)/%5Bsection%5D/%5B%5B...page%5D%5D/page-49b70caf2ce6d403.js\"],\"DocsTableOfContents"])</script><script>self.__next_f.push([1,"\"]\n25:T73c,\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e node:22-alpine\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eWORKDIR\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e /app\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e# Copy your game server files\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eCOPY\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e package.json ./\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eRUN\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e npm install\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eCOPY\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server.js ./\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e# Required: Create non-root user for security\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eRUN\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e addgroup -S rivet \u0026#x26;\u0026#x26; \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    adduser -S -G rivet rivet \u0026#x26;\u0026#x26; \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    chown -R rivet:rivet /app\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eUSER\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e rivet\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e# Start your game server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eCMD\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e [\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"node\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"server.js\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e26:T19f8,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { ActorContext } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"@rivet-gg/actor\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Simple ping/pong WebSocket server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  async\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e start\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ectx\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#59C2FF\"\u003e ActorContext\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Game server starting\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Create minimal WebSocket server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    Deno\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eserve\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (req\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eheaders\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eget\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"upgrade\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!==\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"websocket\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e Response\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Not a WebSocket connection\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { socket\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Deno\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eupgradeWebSocket\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(req)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      socket\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"open\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e () \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Client connected\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      socket\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eaddEventListener\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"message\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Received: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003edata\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // Simple ping/pong response\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (event\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003edata \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"ping\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          socket\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003esend\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"pong\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"27:T1d7b,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { RivetClient } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"@rivet-gg/api\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Initialize Rivet client with your API token from the dashboard\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e rivet \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Function to create a new game server instance\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e createGameServer\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003egameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e mapName\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actor } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e rivet\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    body\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Identify this server with tags\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      tags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        mode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        map\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e mapName\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Reference your uploaded build\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      buildTags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e current\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Network configuration for your server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      network\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        ports\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          game\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { protocol\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"https\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // IMPORTANT: Do not specify resources if using JavaScript runtime\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      resources\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        cpu\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        memory\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1024\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    connectionUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"28:T1264,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003eapp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epost\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'/join-game'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e res\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { gameMode } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e req\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Find servers matching the requested game mode\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actors } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e rivet\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    tagsJson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      mode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Get the first available server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors[\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Return WebSocket URL to the client\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  res\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    connectionUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"29:T83a,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e destroyGameServer\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e rivet\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003edestroy\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(serverId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Game server \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e destroyed`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2a:Tcce,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// List available regions programmatically\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e getAvailableRegions\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { regions } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Available regions:\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e region \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e regions) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`- \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregion\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregion\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e regions\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2b:T896,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Get the best region for a player\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e getBestRegionForPlayer\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { region } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003erecommend\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Recommended region for player: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregion\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e region\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2c:T747e,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { writeFileSync } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e 'fs'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Define target server count per region\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e TARGET_SERVERS_BY_REGION \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AAD94C\"\u003e  \"atl\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Atlanta: 2 servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AAD94C\"\u003e  \"fra\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Frankfurt: 1 server\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AAD94C\"\u003e  \"syd\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e   // Sydney: 2 servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Maintains a fixed number of game servers across regions\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// This function is idempotent - running it multiple times will maintain the desired number of servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e manageServers\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serverMap \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { regions\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {} }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Process each region\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e [region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetCount] \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Object\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eentries\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(TARGET_SERVERS_BY_REGION)) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    serverMap\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions[region] \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {}\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Find existing servers in this region\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actors } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      tagsJson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e region \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e existingServers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e ({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      serverId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver_id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregion\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      url\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }))\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Print existing server URLs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    existingServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eforEach\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Existing server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e - \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Calculate how many servers to add or remove\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e diff \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetCount \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e existingServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Need to \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ediff \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e 'add'\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e :\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e 'remove'\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e ${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eMath\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(diff)\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e servers`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (diff \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Need to create more servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003elet\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e diff\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serverId \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e `server-\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregion\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eexistingServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Creating new server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actor } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          body\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            tags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              server_id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serverId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              region\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e region\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            buildTags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e current\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            network\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              ports\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e                game\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { protocol\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"https\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            lifecycle\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              durable\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              idle_timeout\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 300\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // 5 minutes idle timeout\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            } \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Created server \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e with URL: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // Add this server to our map\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        serverMap\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions[region][serverId] \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          url\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (diff \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Need to remove some servers - take the oldest ones first\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToRemove \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e existingServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Math\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(diff))\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToKeep \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e existingServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(Math\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(diff))\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Add servers we're keeping to the map\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToKeep) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Keeping server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e - \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        serverMap\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions[region][server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId] \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          url\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Destroy the excess servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToRemove) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Removing server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003edestroy\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // We have exactly the right number of servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e existingServers) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Keeping existing server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e - \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        serverMap\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eregions[region][server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserverId] \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          url\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serverMap\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// This script will output a list of server connection URLs that you can copy \u0026#x26; paste in your game's frontend to show a server list\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e main\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serverMap \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e manageServers\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FFB454\"\u003e  writeFileSync\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'server-map.json'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(serverMap\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Server map saved to server-map.json`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2d:T59a7,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { RivetClient } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e '@rivet-gg/api'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Initialize the Rivet client\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Configuration\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e SCALING_CHECK_INTERVAL \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 60000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e // Check every minute\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e TARGET_PLAYER_PER_SERVER \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 10\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e MIN_SERVERS \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e MAX_SERVERS \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 20\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Start the scaling loop\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003econsole\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Starting server scaling service...\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FFB454\"\u003esetInterval\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(checkAndAdjustServerCapacity\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e SCALING_CHECK_INTERVAL)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Function to check and adjust server capacity\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e checkAndAdjustServerCapacity\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Running scaling check...\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // 1. Get current servers and their metrics\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // See [actors.list](/docs/cloud/api/actors/list) for more filtering options\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actors } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      tagsJson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // 2. Query each server for player count\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e totalPlayers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e activeServers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      try\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e statsUrl \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ehttp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e/stats`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e fetch\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(statsUrl)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e stats \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        totalPlayers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e stats\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayerCount\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (stats\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayerCount \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) activeServers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (err) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Failed to get stats for server \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e err)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // 3. Apply scaling logic\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetServers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Math\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003emax\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      MIN_SERVERS\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      Math\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003emin\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        MAX_SERVERS\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        Math\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eceil\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(totalPlayers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e TARGET_PLAYER_PER_SERVER) \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e // +1 for buffer\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      )\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    )\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // 4. Adjust server count\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetServers) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Create additional servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Scaling up: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e → \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etargetServers\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e servers`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003elet\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetServers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          body\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            tags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              server_id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e `dynamic-\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eDate\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003enow\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            buildTags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e current\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            network\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              ports\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e                game\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { protocol\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"https\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e              }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            resources\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { cpu\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e memory\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1024\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetServers) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e\t  // NOTE: You likely want to wait for the server to have 0 players before destroying\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Find empty servers to remove\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToRemove \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e targetServers)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (serversToRemove\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Scaling down: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e → \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToRemove\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e servers`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // Destroy unused servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e server \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e serversToRemove) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e          await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003edestroy\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(server\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Destroyed empty server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eserver\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Log the current state\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Scaling check complete. \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactiveServers\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e servers active, \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etotalPlayers\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e total players`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (error) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e\"Error in scaling check:\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e error)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2e:T51fa,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { Hono } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e 'hono'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { RivetClient } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e '@rivet-gg/api'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e app \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e Hono\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// In-memory lobby tracking (use a database for production)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003elet\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e []\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Player requests to join a lobby\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003eapp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epost\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'/lobbies/join'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { playerId } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Find a lobby with space\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobby \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003el\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayerCount \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003emaxPlayers)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Create a new lobby if none available\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elobby) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Create a new server actor\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // See [actors.create](/docs/cloud/api/actors/create)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actor } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      body\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        tags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-lobby\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          created_at\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Date\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003enow\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003etoString\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        buildTags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e current\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        network\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          ports\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e            game\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { protocol\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"https\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        resources\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { cpu\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e memory\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1024\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e    // Track the new lobby\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    lobby \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      players\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e []\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      maxPlayers\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 8\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      gameUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      createdAt\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Date\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003enow\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    lobbies\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(lobby)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Add player to lobby\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(playerId)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Return connection info to the player\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    lobbyId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    connectionInfo\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      gameUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egameUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Server reports player disconnection\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003eapp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epost\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'/lobbies/:lobbyId/player-disconnected'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbyId \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eparam\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'lobbyId'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { playerId } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobby \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003el\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbyId)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elobby) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ error\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"Lobby not found\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 404\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Remove player\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayers \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003efilter\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e id \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!==\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e playerId)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Destroy empty lobby after a grace period\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (lobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FFB454\"\u003e    setTimeout\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e () \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Check again in case players joined during grace period\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e currentLobby \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003el\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbyId)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (currentLobby \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e currentLobby\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayers\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003elength \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // Destroy the actor\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003edestroy\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(lobbyId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // Remove from tracking\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        lobbies \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003efilter\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003el\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!==\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbyId)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 5\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e *\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 60\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e *\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e // 5 minute grace period\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ success\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e app\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"2f:T52d2,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { Hono } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e 'hono'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { RivetClient } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e '@rivet-gg/api'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e app \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e Hono\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// Create a custom lobby with specific settings\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003eapp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003epost\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'/lobbies/custom'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    playerId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    mapName\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    playerLimit\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    isPrivate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    password\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Validate inputs\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayerId \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e||\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e !\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egameMode \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e||\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e !\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003emapName) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ error\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"Missing required fields\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 400\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Determine resources based on game mode\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e cpu \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  let\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e memory \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 1024\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (gameMode \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"battle-royale\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    cpu \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2000\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    memory \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 2048\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Create the custom lobby actor\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actor } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ecreate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    body\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      tags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"custom-lobby\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        game_mode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        map\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e mapName\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        host_player\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e playerId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        is_private\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e isPrivate \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e :\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"false\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        created_at\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e Date\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003enow\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003etoString\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      buildTags\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e current\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      network\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        ports\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          game\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { protocol\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"https\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      resources\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { cpu\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e memory }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      env\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        GAME_MODE\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        MAP_NAME\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e mapName\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        PLAYER_LIMIT\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e playerLimit\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003etoString\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e||\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"8\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        IS_PRIVATE\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e isPrivate \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e :\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"false\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        LOBBY_PASSWORD\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e password \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e||\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Return connection information\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    lobbyId\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    connectionInfo\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      gameUrl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e// List lobbies with filtering\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003eapp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eget\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'/lobbies'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e async\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e=\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'gameMode'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e map \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'map'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e isPrivate \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ereq\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e'isPrivate'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Build tag filter\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e tags \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"custom-lobby\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (gameMode) tags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame_mode \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (map) tags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003emap \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e map\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (isPrivate) tags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eis_private \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e isPrivate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Query lobbies\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actors } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    tagsJson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(tags)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Transform response\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e lobbies \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e ({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    id\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    gameMode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003egame_mode\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    map\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    hostPlayer\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ehost_player\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    isPrivate\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eis_private \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"true\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    createdAt\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e parseInt\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003etags\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ecreated_at)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }))\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ lobbies })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e app\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"30:T1e24,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki ayu-dark\" style=\"background-color:#0c0a09;color:#bfbdb6\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { RivetClient } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e '@rivet-gg/api'\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e upgradeEmptyServers\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e() {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e RivetClient\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ token\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_TOKEN })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // List all game servers\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e { actors } \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elist\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    tagsJson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e({ name\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e \"game-server\"\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e  // Check each server for player count\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003econst\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actor \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003eof\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e actors) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e    try\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e statsUrl \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003enetwork\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eports\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003ehttp\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eurl\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e/stats`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003e fetch\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(statsUrl)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      const\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e stats \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e response\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003ejson\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e      // Upgrade servers with no players\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (stats\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eplayerCount \u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e===\u003c/span\u003e\u003cspan style=\"color:#D2A6FF\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#ACB6BF8C;font-style:italic\"\u003e        // See [actors.upgrade](/docs/cloud/api/actors/upgrade) for more options\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#FF8F40\"\u003e        await\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactors\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eupgrade\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(actor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          project\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_PROJECT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e          environment\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e process\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eRIVET_ENVIRONMENT_ID\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        })\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e        console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003elog\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Upgraded empty server: \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    } \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e (err) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e      console\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#FFB454\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`Failed to check server \u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eactor\u003c/span\u003e\u003cspan style=\"color:#F29668\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#FF8F40\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#AAD94C\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#BFBDB6\"\u003e err)\u003c/span\u003e\u003cspan style=\"color:#BFBDB6B3\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#BFBDB6\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"aside\",null,{\"className\":\"hidden lg:block border-r\",\"children\":null}],[\"$\",\"div\",null,{\"className\":\"flex justify-center w-full\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-8 max-w-6xl w-full\",\"children\":[[\"$\",\"main\",null,{\"className\":\"w-full py-8 px-8 lg:mx-0 mx-auto max-w-prose lg:max-w-none\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative\",\"children\":[\"$\",\"div\",null,{\"className\":\"absolute top-5 right-0\",\"children\":[\"$\",\"$L1c\",null,{\"title\":\"Multiplayer Game Servers\",\"markdownPath\":\"docs/cloud/solutions/game-servers\",\"currentUrl\":\"/docs/cloud/solutions/game-servers\"}]}]}],[\"$\",\"article\",null,{\"className\":\"max-w-prose lg:max-w-prose mx-auto prose-invert prose\",\"children\":[\"$undefined\",[[\"$\",\"h1\",null,{\"children\":\"Multiplayer Game Servers\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Rivet provides a robust platform for deploying, scaling, and managing game servers globally.\"}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"quickstart\",\"children\":\"Quickstart\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In this guide, we'll implement a simple game server on Rivet and create a backend API that manages server instances. This tutorial assumes you already have your own API server that will handle game logic and player management.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Before starting, you'll need to choose a runtime for your game server. Rivet offers two options:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/actors\",\"children\":\"Actors\"}]}],\": For lightweight, fast-starting game servers using JavaScript/TypeScript\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/containers\",\"children\":\"Containers\"}]}],\": For maximum flexibility, supports any language, ideal for complex game servers\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-1-preparing-your-game-server-code\",\"children\":\"Step 1: Preparing your game server code\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We'll package your existing game server to run on Rivet. Depending on your chosen runtime, you'll need to create different files:\"}],\"\\n\",[\"$\",\"$L1e\",null,{\"defaultValue\":\"Container Runtime\",\"children\":[[\"$\",\"$L1f\",null,{\"children\":[\"$\",\"$L20\",null,{\"children\":[[\"$\",\"$L21\",\"Container Runtime\",{\"value\":\"Container Runtime\",\"children\":\"Container Runtime\"}],[\"$\",\"$L21\",\"JavaScript Runtime\",{\"value\":\"JavaScript Runtime\",\"children\":\"JavaScript Runtime\"}]]}]}],[[\"$\",\"$L22\",null,{\"value\":\"Container Runtime\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-blue-950/20 border-blue-700/50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 pt-0.5\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"circle-info\",\"className\":\"svg-inline--fa fa-circle-info w-5 h-5 text-blue-400\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\",\"style\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"flex-1 prose-invert prose max-w-full w-full text-blue-100\",\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Durability is disabled by default\"}],\": Your existing game server code (\",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"server.js\"}}],\") should read environment variables for port configuration. Read more \",[\"$\",\"$La\",null,{\"href\":\"/docs/networking#environment-variable-naming\",\"children\":\"here\"}],\".\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"Dockerfile\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$25\"}}]}]}]]}]]}],[\"$\",\"$L22\",null,{\"value\":\"JavaScript Runtime\",\"children\":[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"src/index.ts\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$26\"}}]}]}]]}]}]]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-2-creating-a-rivet-configuration\",\"children\":\"Step 2: Creating a Rivet configuration\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Create a minimal \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"rivet.json\"}}],\" configuration file that tells Rivet how to deploy your game server:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"code-group group my-4 rounded-md border pt-2\",\"data-code-group\":true,\"children\":[\"$\",\"$L1e\",null,{\"defaultValue\":\"Actors\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex gap-1 border-b pr-2\",\"children\":[[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"viewportProps\":{\"className\":\"[\u0026\u003ediv]:!table\"},\"children\":[\"$\",\"$L20\",null,{\"className\":\"border-b-0\",\"children\":[[\"$\",\"$L21\",\"Actors/.0\",{\"value\":\"Actors\",\"children\":\"Actors\"}],[\"$\",\"$L21\",\"Containers/.1\",{\"value\":\"Containers\",\"children\":\"Containers\"}]]}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5 text-foreground\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[[\"$\",\"$L22\",\"Actors/.0\",{\"value\":\"Actors\",\"children\":[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[null,[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e  \\\"actors\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e    \\\"game-server\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e      \\\"script\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"./src/index.ts\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e  }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}]}],[\"$\",\"$L22\",\"Containers/.1\",{\"value\":\"Containers\",\"children\":[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[null,[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e  \\\"containers\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e    \\\"game-server\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#39BAE6\\\"\u003e      \\\"dockerfile\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"Dockerfile\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e  }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}]}]]]}]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-3-deploying-your-game-server\",\"children\":\"Step 3: Deploying your game server\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Install the Rivet CLI \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/install\",\"children\":\"here\"}],\". Then deploy your game server to Rivet using the CLI:\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"Command Line\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003erivet\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e deploy\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 pt-0.5\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"circle-info\",\"className\":\"svg-inline--fa fa-circle-info w-5 h-5 text-gray-400\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\",\"style\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"flex-1 prose-invert prose max-w-full w-full text-gray-100\",\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"This will not create a server.\"}],\" This uploads your game server code to Rivet but doesn't start any instances yet. Your code is now available to be launched on-demand.\"]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-4-optional-starting-game-server-instances-with-a-backend-api\",\"children\":\"Step 4 (optional): Starting game server instances with a backend API\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In your backend API, add code to start game server instances when needed.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"It's up to you when you choose to call \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"createGameServer\"}}],\". Read more about different scaling patterns under \",[\"$\",\"$La\",null,{\"href\":\"#scaling-methods\",\"children\":\"Scaling Methods\"}],\".\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"api-server.js\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$27\"}}]}]}]]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 pt-0.5\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"circle-info\",\"className\":\"svg-inline--fa fa-circle-info w-5 h-5 text-gray-400\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\",\"style\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"flex-1 prose-invert prose max-w-full w-full text-gray-100\",\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Only call Rivet API from your backend.\"}],\" The Rivet API requires a private \",[\"$\",\"em\",null,{\"children\":\"Service Token\"}],\" and should only be called from your backend. Do not make this service token public.\"]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-5-optional-connecting-players-to-your-game-server\",\"children\":\"Step 5 (optional): Connecting players to your game server\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When players need to join a game, your backend API provides the WebSocket connection URL:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"api-server.js\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$28\"}}]}]}]]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-gray-950/20 border-gray-700/50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 pt-0.5\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"circle-info\",\"className\":\"svg-inline--fa fa-circle-info w-5 h-5 text-gray-400\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z\",\"style\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"flex-1 prose-invert prose max-w-full w-full text-gray-100\",\"children\":[\"$\",\"p\",null,{\"children\":[\"We recommend storing the connection URL returned from \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.create\"}}],\" instead of calling \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.list\"}}],\" for every API call.\"]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"step-6-optional-destroying-servers-once-finished\",\"children\":\"Step 6 (optional): Destroying servers once finished\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When a game finishes, clean up the server to avoid unnecessary costs:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"api-server.js\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$29\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"global-regions\",\"children\":\"Global Regions\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Rivet's global edge network allows you to deploy game servers in multiple regions around the world, ensuring low latency for players regardless of their location.\"}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"available-regions\",\"children\":\"Available Regions\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Rivet offers server deployments across multiple geographic regions. See the list of available regions \",[\"$\",\"$La\",null,{\"href\":\"/docs/edge\",\"children\":\"here\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To fetch the available regions dynamically, use:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2a\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"region-selection\",\"children\":\"Region Selection\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You can also use the recommendation API from the client to get the recommended region based on the player's IP:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2b\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"scaling-methods\",\"children\":\"Scaling Methods\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Choose the scaling approach that best fits your game's architecture and player patterns:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Static Server Fleet\"}],\": Best for games with predictable player counts and consistent traffic\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Dynamic Load-Based\"}],\": Ideal for games with variable player counts throughout the day\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"On-Demand Lobby Creation\"}],\": Perfect for session-based games where matches have distinct lifetimes\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Custom Game Lobbies\"}],\": Suited for games where players create rooms with specific settings\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"static-server-fleet\",\"children\":\"Static Server Fleet\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This approach maintains a predetermined number of game servers running in each region. It uses \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.list\"}}],\" to check for existing servers and automatically creates or destroys servers to maintain the desired count.\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Ensures a consistent number of servers are available in each region\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Servers are \",[\"$\",\"$La\",null,{\"href\":\"/docs/durability\",\"children\":\"durable\"}],\", meaning they automatically restart if they crash\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Monitor these servers in the Rivet dashboard\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Example\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Use this script to maintain a fixed number of servers across specified regions:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"manage-servers.js\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2c\"}}]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To run this with the credentials auto-populated, use:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"Command Line\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003erivet\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e shell\u003c/span\u003e\u003cspan style=\\\"color:#95E6CB\\\"\u003e --exec\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e 'node manage-servers.js'\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This script will output a list of server connection URLs that you can copy \u0026 paste in your game's frontend to show a server list.\"}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"dynamic-load-based-scaling\",\"children\":\"Dynamic Load-Based Scaling\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Scale your server fleet up or down based on demand from your backend.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Periodically check metrics (player count, server load) from your running servers\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Call \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/create\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.create\"}}]}],\" to add servers when needed\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Call \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/destroy\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.destroy\"}}]}],\" to remove underutilized servers\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Implement custom scaling logic based on your game's patterns\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Example: Periodic scaling with setInterval\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In your own backend:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"api-server.js\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2d\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"on-demand-lobby-creation\",\"children\":\"On-Demand Lobby Creation\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Create game servers on-demand as players request to join lobbies.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Your lobby management service maintains a state of available lobbies\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"When a player requests to join, check for available space in existing lobbies\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"If no space is available, create a new server instance\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Clean up servers once they're empty\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Key Endpoints:\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Request to join lobby (called by client)\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Check if there is space in existing lobbies\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"If not, create a new actor (handle race conditions appropriately)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Return connection information to the client\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Player disconnected (called by lobby)\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Remove player from lobby tracking\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Destroy lobby if empty after a grace period\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Heartbeat/watchdog\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Implement timeout mechanisms for players who connect but never join\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Clean up abandoned servers to prevent resource waste\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Example: On-demand lobby system with Hono\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2e\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"custom-game-lobbies\",\"children\":\"Custom Game Lobbies\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Create customized game servers on-demand with specific configurations.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"relative w-full rounded-xl border p-4 my-4 flex gap-3 bg-yellow-950/20 border-yellow-700/50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 pt-0.5\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"triangle-exclamation\",\"className\":\"svg-inline--fa fa-triangle-exclamation w-5 h-5 text-yellow-400\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\",\"style\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"flex-1 prose-invert prose max-w-full w-full text-yellow-100\",\"children\":[\"$\",\"p\",null,{\"children\":\"Always implement lobby creation in your trusted backend, never in client code.\"}]}]]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Create actors with specific configurations via environment variables\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Customize CPU and memory resources for demanding game modes\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Use tags for organizing and querying actors with \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/list\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.list\"}}]}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Filter and monitor lobbies in the dashboard\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Example: Custom lobby creation with Hono\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$2f\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"upgrading-servers\",\"children\":\"Upgrading Servers\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Choose the upgrade approach that best fits your game's requirements:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Default Behavior\"}],\": Best for development or games that can tolerate brief interruptions\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Targeted Upgrading\"}],\": Ideal for testing new versions on a subset of servers before full rollout\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Zero-Downtime Rolling\"}],\": Essential for production games where player sessions must be preserved\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"default-behavior\",\"children\":\"Default Behavior\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When you run \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"rivet deploy\"}}],\", your game server code is uploaded and all running \",[\"$\",\"$La\",null,{\"href\":\"/docs/durability\",\"children\":\"durable\"}],\" actors are automatically upgraded:\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"When deploying a new version, actors receive a SIGTERM signal\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"They have a 30-second grace period to clean up and shutdown\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"New actors start automatically using the updated code\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"This is the simplest approach but will disconnect active players\"}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"targeted-server-upgrading\",\"children\":\"Targeted Server Upgrading\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If you want more control over upgrading your servers, you can use targeted upgrades to selectively update specific servers:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Call \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/upgrade\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.upgrade\"}}]}],\" on specific actors\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Useful for testing updates on a subset of servers\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Allows controlled rollout of new versions\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Can target empty or low-population servers first\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Example: Upgrade only empty servers first\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Validate new version behavior before full rollout\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Example: Manual selective upgrading\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"$30\"}}]}]}]]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":3,\"id\":\"zero-downtime-rolling-upgrades-with-draining\",\"children\":\"Zero-Downtime Rolling Upgrades With Draining\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For production games, it's highly recommended to implement a system for routing new players to updated servers while allowing existing sessions to complete naturally:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Implement custom logic to gradually upgrade servers\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Start sending new players to new server versions\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Wait for old servers to naturally empty out as players finish their sessions\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"This approach preserves gameplay sessions on existing servers\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Requires more complex implementation but provides the best player experience\"}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"server-configuration-options\",\"children\":\"Server Configuration Options\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When creating game servers with \",[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/create\",\"children\":[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"actors.create\"}}]}],\", you can configure:\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Network\"}],\": Define HTTPS/WSS ports, custom paths, and routing options\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003enetwork\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eports\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003egame\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eprotocol\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"https\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e } } }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Resources\"}],\": Customize CPU and memory allocation\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eresources\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003ecpu\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#D2A6FF\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e,\u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003e memory\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#D2A6FF\\\"\u003e 1024\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Environment Variables\"}],\": Configure server behavior via \",[\"$\",\"code\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"process.env\"}}]]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eenv\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eMAX_PLAYERS\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"16\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e,\u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003e MAP_ROTATION\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"dust,nuke,inferno\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Tags\"}],\": Add metadata for filtering and organization\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003etags\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003emode\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"ranked\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e,\u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003e region\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"us-east\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Lifecycle\"}],\": Set up \",[\"$\",\"$La\",null,{\"href\":\"/docs/durability\",\"children\":\"durability\"}],\" and idle timeouts\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003elifecycle\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003edurable\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#D2A6FF\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e,\u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003e idle_timeout\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#D2A6FF\\\"\u003e 300\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Build Selection\"}],\": Target specific versions of your server code\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003ebuildTags\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e { \u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"game-server\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e,\u003c/span\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003e current\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"true\\\"\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6\\\"\u003e }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Region Selection\"}],\": Deploy to \",[\"$\",\"$La\",null,{\"href\":\"/docs/edge\",\"children\":\"specific regions\"}],\" for lower latency\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose my-4 rounded-md border group-[.code-group]:my-0 group-[.code-group]:-mt-2 group-[.code-group]:border-none\",\"data-code-group\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"text-foreground flex items-center justify-between gap-2 border-b p-2 text-xs\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-muted-foreground flex items-center gap-1\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"inline-flex items-center tracking-normal rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 whitespace-nowrap max-w-full overflow-hidden truncate text-foreground\",\"children\":\"TypeScript\"}]}],[\"$\",\"$L23\",null,{\"trigger\":[\"$\",\"$L24\",null,{\"children\":[\"$\",\"button\",null,{\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-7 w-7 text-xs [\u0026_svg]:size-3 gap-1.5\",\"ref\":\"$undefined\",\"disabled\":\"$undefined\",\"children\":[null,[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"copy\",\"className\":\"svg-inline--fa fa-copy \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\",\"style\":{}}]}],null]}]}],\"content\":\"Copy code\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-background text-wrap p-2 text-sm\",\"children\":[\"$\",\"$L1f\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"span\",null,{\"className\":\"not-prose code\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cpre class=\\\"shiki ayu-dark\\\" style=\\\"background-color:#0c0a09;color:#bfbdb6\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59C2FF\\\"\u003eregion\u003c/span\u003e\u003cspan style=\\\"color:#BFBDB6B3\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#AAD94C\\\"\u003e \\\"atl\\\"\u003c/span\u003e\u003cspan style=\\\"color:#ACB6BF8C;font-style:italic\\\"\u003e // Atlanta\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"}}]}]}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For detailed documentation, see:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/api/actors/create\",\"children\":\"Actors Create API Reference\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/actors\",\"children\":\"Actors\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/cloud/containers\",\"children\":\"Containers\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/config\",\"children\":\"Configuration Reference\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"$L1d\",null,{\"level\":2,\"id\":\"learning-more\",\"children\":\"Learning More\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"For more comprehensive coverage of game server development with Rivet:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/api\",\"children\":\"Rivet API Docs\"}]}],\" - Complete API reference for direct Rivet integration\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/local-development\",\"children\":\"Local Development\"}]}],\" - Setting up your local environment for development\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"$La\",null,{\"href\":\"/docs/troubleshooting\",\"children\":\"Troubleshooting\"}]}],\" - Common issues and their solutions\"]}],\"\\n\"]}]]]}],[\"$\",\"div\",null,{\"className\":\"border-t mt-8 mb-2\"}],[\"$\",\"a\",null,{\"href\":\"https://github.com/rivet-gg/rivet/edit/main/site/src/content/docs/cloud/solutions/game-servers.mdx\",\"target\":\"_blank\",\"rel\":\"noreferrer\",\"children\":[[\"$\",\"svg\",\".0\",{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"pencil\",\"className\":\"svg-inline--fa fa-pencil \",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"style\":{},\"ref\":\"$undefined\",\"children\":[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z\",\"style\":{}}]}],\"Suggest changes to this page\"],\"className\":\"group group/button inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:z-10 relative aria-disabled:pointer-events-none aria-disabled:opacity-50 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:size-[1em] hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-1.5\",\"ref\":null,\"disabled\":\"$undefined\"}],[\"$\",\"$L31\",null,{}]]}],[\"$\",\"aside\",null,{\"className\":\"hidden xl:block w-64 min-w-0 flex-shrink-0 pb-4\",\"children\":[\"$\",\"$L32\",null,{\"className\":\"lg:max-h-content\",\"tableOfContents\":[{\"title\":\"Quickstart\",\"id\":\"quickstart\",\"children\":[{\"title\":\"Step 1: Preparing your game server code\",\"id\":\"step-1-preparing-your-game-server-code\",\"children\":[]},{\"title\":\"Step 2: Creating a Rivet configuration\",\"id\":\"step-2-creating-a-rivet-configuration\",\"children\":[]},{\"title\":\"Step 3: Deploying your game server\",\"id\":\"step-3-deploying-your-game-server\",\"children\":[]},{\"title\":\"Step 4 (optional): Starting game server instances with a backend API\",\"id\":\"step-4-optional-starting-game-server-instances-with-a-backend-api\",\"children\":[]},{\"title\":\"Step 5 (optional): Connecting players to your game server\",\"id\":\"step-5-optional-connecting-players-to-your-game-server\",\"children\":[]},{\"title\":\"Step 6 (optional): Destroying servers once finished\",\"id\":\"step-6-optional-destroying-servers-once-finished\",\"children\":[]}]},{\"title\":\"Global Regions\",\"id\":\"global-regions\",\"children\":[{\"title\":\"Available Regions\",\"id\":\"available-regions\",\"children\":[]},{\"title\":\"Region Selection\",\"id\":\"region-selection\",\"children\":[]}]},{\"title\":\"Scaling Methods\",\"id\":\"scaling-methods\",\"children\":[{\"title\":\"Static Server Fleet\",\"id\":\"static-server-fleet\",\"children\":[]},{\"title\":\"Dynamic Load-Based Scaling\",\"id\":\"dynamic-load-based-scaling\",\"children\":[]},{\"title\":\"On-Demand Lobby Creation\",\"id\":\"on-demand-lobby-creation\",\"children\":[]},{\"title\":\"Custom Game Lobbies\",\"id\":\"custom-game-lobbies\",\"children\":[]}]},{\"title\":\"Upgrading Servers\",\"id\":\"upgrading-servers\",\"children\":[{\"title\":\"Default Behavior\",\"id\":\"default-behavior\",\"children\":[]},{\"title\":\"Targeted Server Upgrading\",\"id\":\"targeted-server-upgrading\",\"children\":[]},{\"title\":\"Zero-Downtime Rolling Upgrades With Draining\",\"id\":\"zero-downtime-rolling-upgrades-with-draining\",\"children\":[]}]},{\"title\":\"Server Configuration Options\",\"id\":\"server-configuration-options\",\"children\":[]},{\"title\":\"Learning More\",\"id\":\"learning-more\",\"children\":[]}]}]}]]}]}]]\n"])</script><script>self.__next_f.push([1,"18:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n13:null\n"])</script><script>self.__next_f.push([1,"1b:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Multiplayer Game Servers - Rivet\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Rivet provides a robust platform for deploying, scaling, and managing game servers globally.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"canonical\",\"href\":\"https://www.rivet.gg/docs/cloud/solutions/game-servers/\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:title\",\"content\":\"Multiplayer Game Servers - Rivet\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:description\",\"content\":\"Rivet provides a robust platform for deploying, scaling, and managing game servers globally.\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:url\",\"content\":\"https://www.rivet.gg/\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:site_name\",\"content\":\"Rivet\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image\",\"content\":\"https://www.rivet.gg/promo/og.png\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:alt\",\"content\":\"Rivet\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:site\",\"content\":\"@rivetgg\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:title\",\"content\":\"Multiplayer Game Servers - Rivet\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:description\",\"content\":\"Rivet provides a robust platform for deploying, scaling, and managing game servers globally.\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image\",\"content\":\"https://www.rivet.gg/promo/og.png\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image:alt\",\"content\":\"Rivet\"}]],\"error\":null,\"digest\":\"$undefined\"}\n16:{\"metadata\":\"$1b:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>